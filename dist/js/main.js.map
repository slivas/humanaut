{"version":3,"sources":["main.js"],"names":["_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","e","n","document","addEventListener","isMobile","window","innerWidth","triggers","querySelectorAll","closeAllModals","exceptModal","arguments","undefined","forEach","modal","classList","remove","querySelector","body","openModal","add","closeModal","trigger","modalId","dataset","getElementById","closeBtn","preventDefault","stopPropagation","contains","openModalEl","content","target","closest","section","inner","btnNext","btnPrev","itemNumEl","inBand","visibleEnough","wheelAccum","gestureStepped","gestureTimer","clamp","min","max","Math","getActiveIndex","m","className","match","parseInt","setActiveIndex","index","next","i","concat","textContent","String","padStart","disabled","step","dir","resetGesture","clearTimeout","touchStartX","touchStartY","touches","clientX","clientY","passive","changedTouches","dx","dy","abs","IntersectionObserver","entries","isIntersecting","intersectionRatio","threshold","observe","rect","vh","secCenter","viewCenter","band","getBoundingClientRect","innerHeight","documentElement","clientHeight","top","height","normDelta","deltaY","idx","setTimeout","list","getItems","initialOrder","btn","li","desc","toggle","nowOpen","openDesc","closeDesc","img","activeItem","itemsBefore","activeIndex","indexOf","wasActive","flipAnimate","resetDesktopClasses","el","appendChild","prepend","item","ev","propertyName","style","maxHeight","lastMode","init","root","viewport","track","logoList","clone","cloneNode","setAttribute","measure","distance","width","setProperty","imgs","Promise","all","map","complete","resolve","res","once","then","ro","ResizeObserver","_t","tabs","buttons","panels","interval","order","tab","currentIndex","findIndex","timer","activateByName","panel","tabTarget","split","filter","cls","startsWith","join","setBackgroundClass","nextIndex","start","stop","setInterval","clearInterval","hidden","ctaSection","ctaBg","MAX_OFFSET_PX","isTicking","applySettings","updateParallax","bottom","progress","translateY","transform","requestUpdate","requestAnimationFrame","accordion","parentElement","nextElementSibling","isOpen","other","otherPanel","close","scrollHeight","onEnd","removeEventListener","open","p","block","wordsLimit","words","fullText","trim","shortText","createElement","insertBefore","type","setBtn","annotationRoot","annotationLimit","annotationFullHTML","innerHTML","annotationWords","replace","annotationShortText","annotationInner","annotationToggle","annotationIsOpen","annotationSetButton","annotationSetMaxHeight","hoViewport","hoTrack","hoX","hoDir","hoRafId","hoMode","hoTargetX","hoEaseRafId","hoMaxScroll","vw","clientWidth","tw","scrollWidth","hoClamp","val","hoSetX","hoStopAuto","cancelAnimationFrame","hoPointerX","hoPointerY","hoOnWheel","elementFromPoint","hoIsPointerOverViewport","delta","diff","hoStartEase","hoApplyMode","nextMode","hoTick","hoStartAuto","container","mutate","duration","els","children","first","Map","last","f","get","l","left","transition","mode","display","removeProperty","resetDesktop"],"mappings":"AAAA,aAEA,SAASA,mBAAmBC,GAAK,OAAOC,mBAAmBD,IAAME,iBAAiBF,IAAMG,4BAA4BH,IAAMI,oBAAsB,CAChJ,SAASA,qBAAuB,MAAM,IAAIC,UAAU,uIAAyI,CAC7L,SAASF,4BAA4BH,EAAGM,GAAK,GAAIN,EAAG,CAAE,GAAI,iBAAmBA,EAAG,OAAOO,kBAAkBP,EAAGM,GAAI,IAAIE,EAAI,CAAC,EAAEC,SAASC,KAAKV,GAAGW,MAAM,GAAI,GAAI,MAAO,WAAaH,GAAKR,EAAEY,cAAgBJ,EAAIR,EAAEY,YAAYC,MAAO,QAAUL,GAAK,QAAUA,EAAIM,MAAMC,KAAKf,GAAK,cAAgBQ,GAAK,2CAA2CQ,KAAKR,GAAKD,kBAAkBP,EAAGM,QAAK,CAAQ,CAAE,CACzX,SAASJ,iBAAiBF,GAAK,GAAI,oBAAsBiB,QAAU,MAAQjB,EAAEiB,OAAOC,WAAa,MAAQlB,EAAE,cAAe,OAAOc,MAAMC,KAAKf,EAAI,CAChJ,SAASC,mBAAmBD,GAAK,GAAIc,MAAMK,QAAQnB,GAAI,OAAOO,kBAAkBP,EAAI,CACpF,SAASO,kBAAkBP,EAAGM,IAAM,MAAQA,GAAKA,EAAIN,EAAEoB,UAAYd,EAAIN,EAAEoB,QAAS,IAAK,IAAIC,EAAI,EAAGC,EAAIR,MAAMR,GAAIe,EAAIf,EAAGe,IAAKC,EAAED,GAAKrB,EAAEqB,GAAI,OAAOC,CAAG,CAPnJC,SAASC,iBAAiB,oBAAoB,WAG1C,IACMC,EAAW,WAAH,OAASC,OAAOC,YADJ,IACmC,EAIvDC,EAAWL,SAASM,iBAAiB,kBAErCC,EAAiB,WAAwB,IAAvBC,EAAWC,UAAAZ,OAAA,QAAAa,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAClCT,SAASM,iBAAiB,kBAAkBK,SAAQ,SAAAC,GAC5CJ,GAAeI,IAAUJ,GAC7BI,EAAMC,UAAUC,OAAO,UAC3B,IAEKd,SAASe,cAAc,mBACxBf,SAASgB,KAAKH,UAAUC,OAAO,aAEvC,EAEMG,EAAY,SAACL,GACfA,EAAMC,UAAUK,IAAI,WACpBlB,SAASgB,KAAKH,UAAUK,IAAI,aAChC,EAEMC,EAAa,SAACP,GAChBA,EAAMC,UAAUC,OAAO,WAElBd,SAASe,cAAc,mBACxBf,SAASgB,KAAKH,UAAUC,OAAO,aAEvC,EAEAT,EAASM,SAAQ,SAAAS,GACb,IAAMC,EAAUD,EAAQE,QAAQV,MAC1BA,EAAQZ,SAASuB,eAAeF,GACtC,GAAKT,EAAL,CAEA,IAAMY,EAAWZ,EAAMG,cAAc,gBAErCK,EAAQnB,iBAAiB,SAAS,SAACH,GAC1BI,MACLJ,EAAE2B,iBACF3B,EAAE4B,kBAEEd,EAAMC,UAAUc,SAAS,WACzBR,EAAWP,IAIfL,EAAeK,GACfK,EAAUL,IACd,IAEAQ,EAAQnB,iBAAiB,cAAc,WAC/BC,KACJe,EAAUL,EACd,IAEAQ,EAAQnB,iBAAiB,cAAc,WAC/BC,KACJiB,EAAWP,EACf,IAEAA,EAAMX,iBAAiB,cAAc,WAC7BC,KACJe,EAAUL,EACd,IAEAA,EAAMX,iBAAiB,cAAc,WAC7BC,KACJiB,EAAWP,EACf,IAEAY,SAAAA,EAAUvB,iBAAiB,SAAS,SAACH,GACjCA,EAAE4B,kBACFP,EAAWP,EACf,GAzCY,CA0ChB,IAEAZ,SAASC,iBAAiB,SAAS,SAACH,GAChC,GAAKI,IAAL,CAEA,IAAM0B,EAAc5B,SAASe,cAAc,kBAC3C,GAAKa,EAAL,CAEA,IAAMC,EAAUD,EAAYb,cAAc,gBACrCc,IAGAA,EAAQF,SAAS7B,EAAEgC,SACnBhC,EAAEgC,OAAOC,QAAQ,mBAElBxB,IATc,CAHD,CAcrB,IAEAJ,OAAOF,iBAAiB,SAAUM,GAGlC,IAAMyB,EAAUhC,SAASe,cAAc,mBACvC,GAAKiB,EAAL,CAEA,IAAMC,EAAQD,EAAQjB,cAAc,0BACpC,GAAKkB,EAAL,CAEA,IAAMC,EAAUF,EAAQjB,cAAc,iCAChCoB,EAAUH,EAAQjB,cAAc,iCAChCqB,EAAYJ,EAAQjB,cAAc,kCAwBpCsB,GAAS,EACTC,GAAgB,EAEhBC,EAAa,EACbC,GAAiB,EACjBC,EAAe,KAKbC,EAAQ,SAAC3C,EAAG4C,EAAKC,GAAG,OAAKC,KAAKF,IAAIE,KAAKD,IAAI7C,EAAG4C,GAAMC,EAAI,EAGxDE,EAAiB,WACnB,IAAMC,EAAId,EAAMe,UAAUC,MAAM,qBAC1BlD,EAAIgD,EAAIG,SAASH,EAAE,GAAI,IAAM,EACnC,OAAOL,EAAM3C,EAAG,EAnCF,EAoClB,EAEMoD,EAAiB,SAACC,GAGpB,IAFA,IAAMC,EAAOX,EAAMU,EAAO,EAvCZ,GAyCLE,EAAI,EAAGA,GAzCF,EAyCkBA,IAAKrB,EAAMpB,UAAUC,OAAM,QAAAyC,OAASD,EAAC,YACrErB,EAAMpB,UAAUK,IAAG,QAAAqC,OAASF,EAAI,YAE5BjB,IAAWA,EAAUoB,YAAcC,OAAOJ,GAAMK,SAAS,EAAG,MAE5DvB,IAASA,EAAQwB,SAAoB,IAATN,GAC5BnB,IAASA,EAAQyB,SA/CP,IA+CkBN,EACpC,EAEMO,EAAO,SAACC,GAAG,OAAKV,EAAeL,IAAmBe,EAAI,EAEtDC,EAAe,WACjBvB,EAAa,EACbC,GAAiB,EACbC,IACAsB,aAAatB,GACbA,EAAe,KAEvB,EA2BAP,SAAAA,EAASjC,iBAAiB,SAAS,SAACH,GAAQA,EAAE2B,iBAAkBmC,EAAK,EAAK,IAC1EzB,SAAAA,EAASlC,iBAAiB,SAAS,SAACH,GAAQA,EAAE2B,iBAAkBmC,GAAM,EAAI,IAK1E,IAAII,EAAc,EACdC,EAAc,EAKlBjC,EAAQ/B,iBAAiB,cAAc,SAACH,GACpC,GAAKI,IAAL,CACA,IAAMjB,EAAIa,EAAEoE,QAAQ,GACpBF,EAAc/E,EAAEkF,QAChBF,EAAchF,EAAEmF,OAHC,CAIrB,GAAG,CAAEC,SAAS,IAEdrC,EAAQ/B,iBAAiB,YAAY,SAACH,GAClC,GAAKI,IAAL,CACA,IAAMjB,EAAIa,EAAEwE,eAAe,GACrBC,EAAKtF,EAAEkF,QAAUH,EACjBQ,EAAKvF,EAAEmF,QAAUH,EAEnBpB,KAAK4B,IAAIF,GAhBM,IAiBf1B,KAAK4B,IAAID,GAhBO,GAgBD3B,KAAK4B,IAAIF,IAEhBX,EAARW,EAAK,EAAQ,GACN,EATM,CAUrB,GAAG,CAAEF,SAAS,IAKH,IAAIK,sBAAqB,SAACC,GACjC,IAAM7E,EAAI6E,EAAQ,GAClBrC,EAAgBxC,EAAE8E,gBAAkB9E,EAAE+E,mBApHhB,MAuHjB/E,EAAE8E,gBAAkB9E,EAAE+E,kBAAoB,KAC3Cf,GAER,GAAG,CAAEgB,UAAW,CAAC,EAAG,GA1HM,IA0HkB,KAEzCC,QAAQ/C,GAiDX7B,OAAOF,iBAAiB,SA5CR,SAACH,GAjEM,IACbkF,EACAC,EAEAC,EACAC,EAEAC,EA2DN,IAAIlF,IAMJ,GAvEM8E,EAAOhD,EAAQqD,wBACfJ,EAAK9E,OAAOmF,aAAetF,SAASuF,gBAAgBC,aAEpDN,EAAYF,EAAKS,IAAMT,EAAKU,OAAS,EACrCP,EAAaF,EAAK,EAElBG,EA1EU,IA0EHH,EA8Db5C,EA5DOQ,KAAK4B,IAAIS,EAAYC,IAAeC,EA+DtC9C,GAAkBD,EAAvB,CAKA,IAAMmC,EAtHQ,SAACA,GAAE,OAAK9B,EAAM8B,GAnBZ,MAmB0C,CAsH/CmB,CAAU7F,EAAE8F,QACjBC,EAAM/C,IAGZ,GAAa,IAAR+C,GAAarB,EAAK,GAxJT,IAwJgBqB,GAAqBrB,EAAK,EACpDV,SAWJ,GANAhE,EAAE2B,iBAhGEgB,GAAcsB,aAAatB,GAC/BA,EAAeqD,YAAW,WACtBtD,GAAiB,EACjBD,EAAa,EACbE,EAAe,IACnB,GArDmB,MAsJfD,EAAJ,CAIA,IAAMqB,GAFNtB,GAAciC,IA5JM,GA+JgB,EAC5BjC,IAhKY,IAgKsB,EAC9B,EAEPsB,IAELD,EAAKC,GACLrB,GAAiB,EACjBD,EAAa,EAbO,CAlBpB,MAFIuB,GAkCR,GAE0C,CAAEO,SAAS,IAKrDlB,EAAeL,KAEf3C,OAAOF,iBAAiB,UAAU,WAC9B6D,GACJ,IAGA,IAAMiC,EAAO/F,SAASe,cAAc,gBACpC,GAAKgF,EAAL,CAGA,IAAMC,EAAW,WAAH,OAAAxH,mBAAauH,EAAKzF,iBAAiB,qBAAoB,EAG/D2F,EAAeD,IA2GrBD,EAAK9F,iBAAiB,SAAS,SAACH,GAE5B,GAAII,IAAY,CACZ,IAAMgG,EAAMpG,EAAEgC,OAAOC,QAAQ,0BAC7B,IAAKmE,EAAK,OAEV,IAAMC,EAAKD,EAAInE,QAAQ,qBACvB,IAAKoE,EAAI,OAET,IAAMC,EAAOD,EAAGpF,cAAc,kCAC9B,IAAKqF,EAAM,OAEXF,EAAIrF,UAAUwF,OAAO,WACrB,IAAMC,EAAUJ,EAAIrF,UAAUc,SAAS,WAIvC,OAFA2E,EAAUC,GAASH,GAAQI,GAAUJ,QACrCF,EAAI1C,YAAc8C,EAAU,YAAc,YAE9C,CAGA,IAAMG,EAAM3G,EAAEgC,OAAOC,QAAQ,0BAC7B,GAAK0E,EAAL,CAEA,IAAMC,EAAaD,EAAI1E,QAAQ,qBAC/B,GAAK2E,EAAL,CAEA,IAAMC,EAAcX,IACdY,EAAcD,EAAYE,QAAQH,GAClCI,EAAYJ,EAAW7F,UAAUc,SAAS,aAI5CoF,GAAYhB,EADZe,EACkB,WACdE,KACAf,EAAatF,SAAQ,SAAAsG,GAAE,OAAIlB,EAAKmB,YAAYD,EAAG,GACnD,EAKc,WAEdD,KAGAjB,EAAKoB,QAAQT,GAGbA,EAAW7F,UAAUK,IAAI,aAGzByF,EAAYhG,SAAQ,SAACyG,EAAM9D,GACnB8D,IAASV,IACTpD,EAAIsD,EAAaQ,EAAKvG,UAAUK,IAAI,WACnCkG,EAAKvG,UAAUK,IAAI,YAC5B,IAGA6E,EAAKlF,UAAUK,IAAI,cACvB,EAxBO,IAXU,CAHP,CAuCd,IAGA8E,IAAWrF,SAAQ,SAAAwF,GACf,IAAMC,EAAOD,EAAGpF,cAAc,kCACzBqF,GAELA,EAAKnG,iBAAiB,iBAAiB,SAACoH,GACZ,eAApBA,EAAGC,cACFpH,MAEAkG,EAAKvF,UAAUc,SAAS,kBACzByE,EAAKmB,MAAMC,UAAY,QAE/B,GACJ,IAGA,IAAIC,EAAWvH,IAAa,SAAW,UAQvCwH,KAEAvH,OAAOF,iBAAiB,UAAU,YACjBC,IAAa,SAAW,aACxBuH,GACbC,IACJ,IAIA,IAAMC,EAAO3H,SAASe,cAAc,cACpC,GAAK4G,EAAL,CAEA,IAAMC,EAAWD,EAAK5G,cAAc,wBAC9B8G,EAAQF,EAAK5G,cAAc,qBAC3B+G,EAAWH,EAAK5G,cAAc,oBACpC,GAAK6G,GAAaC,GAAUC,EAA5B,CAEA,IACIC,EAAQF,EAAM9G,cAAc,oCAG3BgH,KACDA,EAAQD,EAASE,WAAU,IACrBC,aAAa,aAAc,KACjCJ,EAAMX,YAAYa,IAGtB,IAAMG,EAAU,WACZ,IAAMC,EAAWL,EAASzC,wBAAwB+C,MAC7CD,IAELR,EAAKJ,MAAMc,YAAY,qBAAoB,GAAA9E,OAAK4E,EAAQ,OACxDR,EAAKJ,MAAMc,YAAY,qBAAoB,GAAA9E,OAAK4E,EAftC,GAesD,MACpE,EAGMG,EAAI9J,mBAAOmJ,EAAKrH,iBAAiB,QACpBiI,QAAQC,IACvBF,EAAKG,KAAI,SAAAhC,GAAG,OACRA,EAAIiC,SACEH,QAAQI,UACR,IAAIJ,SAAQ,SAAAK,GACVnC,EAAIxG,iBAAiB,OAAQ2I,EAAK,CAAEC,MAAM,IAC1CpC,EAAIxG,iBAAiB,QAAS2I,EAAK,CAAEC,MAAM,GAC/C,GAAE,KAIHC,KAAKZ,GAGhB,IAAMa,EAAK,IAAIC,gBAAe,WAC1BjF,aAAamE,EAAQe,IACrBf,EAAQe,GAAKnD,WAAWoC,EAAS,IACrC,IAEAa,EAAGhE,QAAQ6C,GACXmB,EAAGhE,QAAQ+C,GAEX3H,OAAOF,iBAAiB,UAAU,WAC9B8D,aAAamE,EAAQe,IACrBf,EAAQe,GAAKnD,WAAWoC,EAAS,IACrC,IAGAlI,SAASM,iBAAiB,SAASK,SAAQ,SAAAuI,GACvC,IAAMlH,EAAUkH,EAAKnH,QAAQ,iBACvBoH,EAAO3K,mBAAO0K,EAAK5I,iBAAiB,eACpC8I,EAAM5K,mBAAQ0K,EAAK5I,iBAAiB,sBAE1C,GAAK6I,EAAQtJ,QAAWuJ,EAAOvJ,OAA/B,CAEA,IAAMwJ,EAAWnG,SAASgG,EAAK5H,QAAQ+H,SAAU,KAAO,IAElDC,EAAQH,EAAQV,KAAI,SAAAvC,GAAG,OAAIA,EAAI5E,QAAQiI,GAAG,IAE5CC,EAAe3G,KAAKD,IACpB,EACAuG,EAAQM,WAAU,SAAAvD,GAAG,OAAIA,EAAIrF,UAAUc,SAAS,YAAY,MAE1C,IAAlB6H,IAAqBA,EAAe,GAExC,IAAIE,EAAQ,KAeNC,EAAiB,SAACrK,GACpB6J,EAAQxI,SAAQ,SAAAuF,GAAG,OACfA,EAAIrF,UAAUwF,OAAO,YAAaH,EAAI5E,QAAQiI,MAAQjK,EAAK,IAG/D8J,EAAOzI,SAAQ,SAAAiJ,GAAK,OAChBA,EAAM/I,UAAUwF,OACZ,YACAuD,EAAMtI,QAAQuI,YAAcvK,EAC/B,IAtBkB,SAACA,GACnB0C,IAGLA,EAAQgB,UAAYhB,EAAQgB,UACvB8G,MAAM,KACNC,QAAO,SAAAC,GAAG,OAAKA,EAAIC,WAAW,iBAAiB,IAC/CC,KAAK,KAGVlI,EAAQnB,UAAUK,IAAG,iBAAAqC,OAAkBjE,IAC3C,CAcI6K,CAAmB7K,GACnBkK,EAAeF,EAAMzC,QAAQvH,EACjC,EAEM+D,EAAO,WACT,IAAM+G,GAAaZ,EAAe,GAAKF,EAAMzJ,OAC7C8J,EAAeL,EAAMc,GACzB,EAEMC,EAAQ,WACVC,IACAZ,EAAQa,YAAYlH,EAAMgG,EAC9B,EAEMiB,EAAO,WACLZ,IACAc,cAAcd,GACdA,EAAQ,KAEhB,EAGAP,EAAQxI,SAAQ,SAAAuF,GACZA,EAAIjG,iBAAiB,SAAS,WAC1B0J,EAAezD,EAAI5E,QAAQiI,KAC3Bc,GACJ,GACJ,IAGAV,EAAeL,EAAME,IACrBa,IAGArK,SAASC,iBAAiB,oBAAoB,WAC1CD,SAASyK,OAASH,IAASD,GAC/B,GA3EuC,CA4E3C,IAGA,IAAMK,EAAa1K,SAASe,cAAc,QAC1C,GAAK2J,EAAL,CAEA,IAAMC,EAAQD,EAAW3J,cAAc,YACvC,GAAK4J,EAAL,CAEA,IAEIC,EAAgB,IAChBC,GAAY,EAGVC,EAAgB,WAGdF,EAFAzK,OAAOC,YAPY,KASH,IAGA,GAExB,EAEA0K,IAEA,IAAMC,EAAiB,WACnB,IAAM/F,EAAO0F,EAAWrF,wBAClBJ,EAAK9E,OAAOmF,YAGlB,GADWN,EAAKgG,OAAS,GAAKhG,EAAKS,IAAMR,EACzC,CAKA,IAAMgG,GAAYhG,EAAKD,EAAKS,MAAQR,EAAKD,EAAKU,QAGxCwF,GAFUrI,KAAKF,IAAIE,KAAKD,IAAIqI,EAAU,GAAI,GAElB,IAAOL,EAAgB,EAErDD,EAAMpD,MAAM4D,UAAS,kBAAA5H,OAAqB2H,EAAU,UAEpDL,GAAY,CATZ,MAFIA,GAAY,CAYpB,EAEMO,EAAgB,WACdP,IACJA,GAAY,EACZQ,sBAAsBN,GAC1B,EAEA5K,OAAOF,iBAAiB,SAAUmL,EAAe,CAAE/G,SAAS,IAC5DlE,OAAOF,iBAAiB,UAAU,WAC9B6K,IACAM,GACJ,IAGAA,IAGA,IAAME,EAAYtL,SAASe,cAAc,cAwBzCuK,EAAUrL,iBAAiB,SAAS,SAACH,GACjC,IAAMoG,EAAMpG,EAAEgC,OAAOC,QAAQ,gBAC7B,GAAKmE,EAAL,CAEA,IAAMkB,EAAOlB,EAAIqF,cACX3B,EAAQ1D,EAAIsF,mBACZC,EAASrE,EAAKvG,UAAUc,SAAS,WAEvC2J,EAAUhL,iBAAiB,qBAAqBK,SAAQ,SAAA+K,GACpD,IAAMC,EAAaD,EAAM3K,cAAc,cACnC2K,IAAUtE,GAAMwE,GAAMD,EAAYD,EAC1C,IAEKD,EAGDG,GAAMhC,EAAOxC,GAtCrB,SAAcwC,EAAOxC,GACjBA,EAAKvG,UAAUK,IAAI,WACnB0I,EAAMrC,MAAM7B,OAASkE,EAAMvE,wBAAwBK,OAAS,KAC5D2F,uBAAsB,WAClBzB,EAAMrC,MAAM7B,OAASkE,EAAMiC,aAAe,IAC9C,IACA,IAAMC,EAAQ,SAAChM,GACY,WAAnBA,EAAEwH,eACNsC,EAAMmC,oBAAoB,gBAAiBD,GAC3ClC,EAAMrC,MAAM7B,OAAS,OACzB,EACAkE,EAAM3J,iBAAiB,gBAAiB6L,EAC5C,CAwBQE,CAAKpC,EAAOxC,EAZN,CAgBd,IAEApH,SAASM,iBAAiB,gCAAgCK,SAAQ,SAAAsL,GAAC,OAAIA,EAAE1E,MAAM7B,OAAS,MAAM,IAI/E1F,SAASM,iBAAiB,mCAElCK,SAAQ,SAAAuL,GACX,IAAMC,EAAajJ,SAASgJ,EAAM5K,QAAQ8K,MAAO,IACjD,GAAKD,EAAL,CAEA,IAAMF,EAAIC,EAAMnL,cAAc,KAC9B,GAAKkL,EAAL,CAEA,IAAMI,GAAYJ,EAAEzI,aAAe,IAAI8I,OACjCF,EAAQC,EAASvC,MAAM,OAC7B,KAAIsC,EAAMvM,QAAUsM,GAApB,CAEA,IAAMI,EAAYH,EAAMhN,MAAM,EAAG+M,GAAYjC,KAAK,KAAO,IAGnDjI,EAAQjC,SAASwM,cAAc,OACrCvK,EAAMe,UAAY,2BAClBkJ,EAAMO,aAAaxK,EAAOgK,GAC1BhK,EAAMiF,YAAY+E,GAGlB,IAAM/F,EAAMlG,SAASwM,cAAc,UACnCtG,EAAIwG,KAAO,SACXxG,EAAIlD,UAAY,qBAChBkJ,EAAMhF,YAAYhB,GAElB,IAAIuF,GAAS,EAEPkB,EAAS,WAAH,OAAUzG,EAAI1C,YAAciI,EAAS,YAAc,WAAW,EAYpEO,EAAO,WAETC,EAAEzI,YAAc6I,EAGhBpK,EAAMsF,MAAMC,UAAY,MACxBvF,EAAMoD,wBAdNpD,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,IAgBjD,EAEMD,EAAQ,WAEV3J,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,KAC7C5J,EAAMoD,wBAGN4G,EAAEzI,YAAc+I,EAnBhBtK,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,IAuBjD,EAGA5J,EAAMhC,iBAAiB,iBAAiB,SAACH,GACd,eAAnBA,EAAEwH,cACFmE,IACAxJ,EAAMsF,MAAMC,UAAY,OAEhC,IAEAtB,EAAIjG,iBAAiB,SAAS,WAC1BwL,GAAUA,EACVkB,IAEIlB,EAAQO,KAGsB,SAA1B/J,EAAMsF,MAAMC,YACZvF,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,KAC7C5J,EAAMoD,yBAEVuG,IAER,IAGAK,EAAEzI,YAAc+I,EAChBI,IAEA1K,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,KAGlC,IAAI7C,gBAAe,WACtByC,IACJxJ,EAAMsF,MAAMC,UAAYvF,EAAM4J,aAAe,KACjD,IACG9G,QAAQmH,EAtFqB,CAJxB,CAHS,CA8FrB,IAEA,IAAMU,EAAiB5M,SAASe,cAAc,oCAC9C,GAAK6L,EAAL,CAGA,IAAMC,EAAkB3J,SAAS0J,EAAetL,QAAQ8K,MAAO,IAC/D,GAAKS,EAAL,CAGA,IAAMC,EAAqBF,EAAeG,UAKpCC,EAJqBJ,EAAepJ,YACrC8I,OACAW,QAAQ,OAAQ,KAEsBnD,MAAM,KACjD,KAAIkD,EAAgBnN,QAAUgN,GAA9B,CAEA,IAAMK,EACFF,EAAgB5N,MAAM,EAAGyN,GAAiB3C,KAAK,KAAO,IAGpDiD,EAAkBnN,SAASwM,cAAc,OAC/CW,EAAgBnK,UAAY,4BAC5BmK,EAAgBJ,UAAS,MAAAxJ,OAAS2J,EAAmB,QAGrD,IAAME,EAAmBpN,SAASwM,cAAc,UAChDY,EAAiBV,KAAO,SACxBU,EAAiBpK,UAAY,6BAE7B,IAAIqK,GAAmB,EAEjBC,EAAsB,WACxBF,EAAiB5J,YAAc6J,EACzB,YACA,YACV,EAEME,EAAyB,WAC3BJ,EAAgB5F,MAAMC,UAClB2F,EAAgBtB,aAAe,IACvC,EAqBAsB,EAAgBlN,iBAAiB,iBAAiB,SAACH,GACxB,eAAnBA,EAAEwH,cACF+F,IACAF,EAAgB5F,MAAMC,UAAY,OAE1C,IAEA4F,EAAiBnN,iBAAiB,SAAS,WACvCoN,GAAoBA,EACpBC,IACAD,GA5BAF,EAAgBJ,UAAYD,EAE5BK,EAAgB5F,MAAMC,UAAY,MAClC2F,EAAgB9H,wBAChBkI,MAIwC,SAApCJ,EAAgB5F,MAAMC,YACtB2F,EAAgB5F,MAAMC,UAClB2F,EAAgBtB,aAAe,KACnCsB,EAAgB9H,yBAGpB8H,EAAgBJ,UAAS,MAAAxJ,OAAS2J,EAAmB,QACrDK,IAcJ,IAGAX,EAAeG,UAAY,GAC3BH,EAAe1F,YAAYiG,GAC3BP,EAAe1F,YAAYkG,GAG3BE,IACAC,IAGqB,IAAIvE,gBAAe,WAC/BqE,GACDE,GAER,IACaxI,QAAQ6H,GAGrB,IAAMY,EAAaxN,SAASe,cAAc,8BAC1C,GAAKyM,EAAL,CAEA,IAAMC,EAAUD,EAAWzM,cAAc,+BACzC,GAAK0M,EAAL,CAEA,IAGIC,GAAM,EACNC,GAAQ,EACRC,GAAU,KACVC,GAAS,KAGTC,GAAY,EACZC,GAAc,KAMZC,GAAc,WAChB,IAAMC,EAAKT,EAAWU,YAChBC,EAAKV,EAAQW,YACnB,OAAOvL,KAAKD,IAAI,EAAGuL,EAAKF,EAC5B,EAEMI,GAAU,SAACC,EAAK3L,EAAKC,GAAG,OAAKC,KAAKD,IAAID,EAAKE,KAAKF,IAAI2L,EAAK1L,GAAK,EAE9D2L,GAAS,SAACD,GACZZ,GAAMY,EACNb,EAAQlG,MAAM4D,UAAS,eAAA5H,QAAmBmK,GAAG,YACjD,EAgCMc,GAAa,WACXZ,IAASa,qBAAqBb,IAClCA,GAAU,IACd,EAGIc,GAAa,KACbC,GAAa,KAEjBxO,OAAOF,iBACH,aACA,SAACoH,GACGqH,GAAarH,EAAGlD,QAChBwK,GAAatH,EAAGjD,OACpB,GACA,CAAEC,SAAS,IAGf,IAkCMuK,GAAY,SAAC9O,GACf,GAAe,YAAX+N,IAnCwB,WAC5B,GAAmB,OAAfa,IAAsC,OAAfC,GAAqB,OAAO,EACvD,IAAM1H,EAAKjH,SAAS6O,iBAAiBH,GAAYC,IACjD,QAAS1H,GAAMuG,EAAW7L,SAASsF,EACvC,CAkCS6H,GAAL,CAEA,IAAMlM,EAAMoL,KACZ,KAAIpL,GAAO,GAAX,CAEA,IAAMmM,EAAQjP,EAAE8F,OAGAkI,IAAa,GAAKiB,EAAQ,GAC5BjB,IAAalL,GAAOmM,EAAQ,IAG1CjP,EAAE2B,iBAGFqM,GAAYO,GADZP,IArHkB,GAqHLiB,EACkB,EAAGnM,GA1ClB,WAChB,IAAImL,GAAJ,CAEA,IAAMnK,EAAO,WACT,IAAMhB,EAAMoL,KAINgB,GAFNlB,GAAYO,GAAQP,GAAW,EAAGlL,IAET8K,GAEzB,GAAI7K,KAAK4B,IAAIuK,GAAQ,IAGjB,OAFAT,GAAOT,SACPC,GAAc,MAIlBQ,GAAOb,GA7FA,IA6FMsB,GACbjB,GAAc1C,sBAAsBzH,EACxC,EAEAmK,GAAc1C,sBAAsBzH,EAnBnB,CAoBrB,CAuBIqL,GAdc,CAHkB,CAkBpC,EAGMC,GAAc,WAChB,IAAMC,EA3HehP,OAAOC,YAdZ,KAyIgB,SAAW,UAC3C,GAAI+O,IAAatB,GAAjB,CAEAA,GAASsB,EAGTX,KA3DIT,IAAaU,qBAAqBV,IACtCA,GAAc,KA8Dd,IAAMnL,EAAMoL,KACZN,GAAM,EACNI,GAAY,EACZH,GAAQ,EACRY,GAAO,GAEQ,WAAXV,IACA1N,OAAO4L,oBAAoB,QAAS6C,IA5HxB,WAChBJ,KAEA,IAEMY,EAAS,WACX,IAAMxM,EAAMoL,KACRpL,GAAO,KAKX8K,IATY,IASKC,KAEN/K,GACP8K,GAAM9K,EACN+K,IAAS,GACFD,IAAO,IACdA,GAAM,EACNC,GAAQ,GAGZY,GAAOb,KAdHE,GAAUvC,sBAAsB+D,EAgBxC,EAEAxB,GAAUvC,sBAAsB+D,EACpC,CAkGQC,KAEAlP,OAAOF,iBAAiB,QAAS2O,GAAW,CAAEvK,SAAS,IAEvDkK,GAAOF,GAAQX,GAAK,EAAG9K,IArBF,CAuB7B,EAEAsM,KAEA/O,OAAOF,iBAAiB,UAAU,WAC9BiP,KAGA,IAAMtM,EAAMoL,KACZN,GAAMW,GAAQX,GAAK,EAAG9K,GACtBkL,GAAYO,GAAQP,GAAW,EAAGlL,GAClC2L,GAAOb,GACX,GA/Kc,CAHG,CA/E8B,CATzB,CAJD,CA7MT,CAHK,CAvIqB,CAL3B,CAnNA,CA1MC,CAHE,CAsNd,SAASlH,GAAUJ,GACfA,EAAKvF,UAAUK,IAAI,gBACnBkF,EAAKmB,MAAMC,UAAY,KAC3B,CAEA,SAASjB,GAASH,GACdA,EAAKvF,UAAUC,OAAO,gBACtBsF,EAAKmB,MAAMC,UAAYpB,EAAKyF,aAAe,IAC/C,CAQA,SAAS7E,KACLjB,EAAKlF,UAAUC,OAAO,eACtBkF,IAAWrF,SAAQ,SAAAwF,GAAE,OAAIA,EAAGtF,UAAUC,OAAO,YAAa,UAAW,WAAW,GACpF,CAwCA,SAASiG,GAAYuI,EAAWC,GAAwB,IAAhBC,EAAQ/O,UAAAZ,OAAA,QAAAa,IAAAD,UAAA,GAAAA,UAAA,GAAG,IACzCgP,EAAMlQ,MAAMC,KAAK8P,EAAUI,UAE3BC,EAAQ,IAAIC,IAAIH,EAAIhH,KAAI,SAAAxB,GAAE,MAAI,CAACA,EAAIA,EAAG5B,wBAAwB,KAEpEkK,IAEAD,EAAUjK,wBAEV,IAAMwK,EAAO,IAAID,IAAIH,EAAIhH,KAAI,SAAAxB,GAAE,MAAI,CAACA,EAAIA,EAAG5B,wBAAwB,KAgCnE,OA9BAoK,EAAI9O,SAAQ,SAAAsG,GACR,IAAM6I,EAAIH,EAAMI,IAAI9I,GACd+I,EAAIH,EAAKE,IAAI9I,GACnB,GAAK6I,GAAME,EAAX,CAEA,IAAMzL,EAAKuL,EAAEG,KAAOD,EAAEC,KAChBzL,EAAKsL,EAAErK,IAAMuK,EAAEvK,KAEjBlB,GAAMC,KACNyC,EAAGM,MAAM4D,UAAS,aAAA5H,OAAgBgB,EAAE,QAAAhB,OAAOiB,EAAE,OAC7CyC,EAAGM,MAAM2I,WAAa,eAPZ,CASlB,IAEA7E,uBAAsB,WAClBoE,EAAI9O,SAAQ,SAAAsG,GACJA,EAAGM,MAAM4D,YACTlE,EAAGM,MAAM2I,WAAU,aAAA3M,OAAgBiM,EAAQ,WAC3CvI,EAAGM,MAAM4D,UAAY,GAE7B,GACJ,IAEArF,YAAW,WACP2J,EAAI9O,SAAQ,SAAAsG,GACRA,EAAGM,MAAM2I,WAAa,GACtBjJ,EAAGM,MAAM4D,UAAY,EACzB,GACJ,GAAGqE,EAAW,IAEPA,CACX,CAoFA,SAAS9H,KACL,IAAMyI,EAAOjQ,IAAa,SAAW,UAC5B,WAATiQ,GArKAnJ,KAEAhB,IAAWrF,SAAQ,SAAAwF,GACf,IAAMC,EAAOD,EAAGpF,cAAc,kCACxBmF,EAAOC,EAAGpF,cAAc,0BAC9B,GAAKqF,GAASF,EAAd,CAEAA,EAAIqB,MAAM6I,QAAU,eAEpB,IAAM3E,EAASvF,EAAIrF,UAAUc,SAAS,WACtC8J,EAASlF,GAASH,GAAQI,GAAUJ,GAEpCF,EAAI1C,YAAciI,EAAS,YAAc,WAPtB,CAQvB,MAIAzF,IAAWrF,SAAQ,SAAAwF,GACf,IAAMC,EAAOD,EAAGpF,cAAc,kCACxBmF,EAAOC,EAAGpF,cAAc,0BAE1BqF,GAjCZ,SAAsBA,GAClBA,EAAKvF,UAAUC,OAAO,gBACtBsF,EAAKmB,MAAM8I,eAAe,aAC9B,CA8BkBC,CAAalK,GAEnBF,IACAA,EAAIqB,MAAM6I,QAAU,OACpBlK,EAAIrF,UAAUC,OAAO,WACrBoF,EAAI1C,YAAc,GAE1B,IAEAwD,KAGAf,EAAatF,SAAQ,SAAAsG,GAAE,OAAIlB,EAAKmB,YAAYD,EAAG,KAqI/CQ,EAAW0I,CACf,CAoOA,SAASvE,GAAMhC,EAAOxC,GAClBA,EAAKvG,UAAUC,OAAO,WACtB8I,EAAMrC,MAAM7B,OAASkE,EAAMiC,aAAe,KAC1CR,uBAAsB,WAClBzB,EAAMrC,MAAM7B,OAAS,KACzB,GACJ,CA8YJ,IAEA1F,SAASM,iBAAiB,oCAAoCT","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n\r\n    /*Mobile settings*/\r\n    const MOBILE_BREAKPOINT = 1023;\r\n    const isMobile = () => window.innerWidth <= MOBILE_BREAKPOINT;\r\n\r\n    /*Implementation modal*/\r\n\r\n    const triggers = document.querySelectorAll('.modal-trigger');\r\n\r\n    const closeAllModals = (exceptModal = null) => {\r\n        document.querySelectorAll('.modal.is-open').forEach(modal => {\r\n            if (exceptModal && modal === exceptModal) return;\r\n            modal.classList.remove('is-open');\r\n        });\r\n\r\n        if (!document.querySelector('.modal.is-open')) {\r\n            document.body.classList.remove('modal-open');\r\n        }\r\n    };\r\n\r\n    const openModal = (modal) => {\r\n        modal.classList.add('is-open');\r\n        document.body.classList.add('modal-open');\r\n    };\r\n\r\n    const closeModal = (modal) => {\r\n        modal.classList.remove('is-open');\r\n\r\n        if (!document.querySelector('.modal.is-open')) {\r\n            document.body.classList.remove('modal-open');\r\n        }\r\n    };\r\n\r\n    triggers.forEach(trigger => {\r\n        const modalId = trigger.dataset.modal;\r\n        const modal = document.getElementById(modalId);\r\n        if (!modal) return;\r\n\r\n        const closeBtn = modal.querySelector('.modal-close');\r\n\r\n        trigger.addEventListener('click', (e) => {\r\n            if (!isMobile()) return;\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            if (modal.classList.contains('is-open')) {\r\n                closeModal(modal);\r\n                return;\r\n            }\r\n\r\n            closeAllModals(modal);\r\n            openModal(modal);\r\n        });\r\n\r\n        trigger.addEventListener('mouseenter', () => {\r\n            if (isMobile()) return;\r\n            openModal(modal);\r\n        });\r\n\r\n        trigger.addEventListener('mouseleave', () => {\r\n            if (isMobile()) return;\r\n            closeModal(modal);\r\n        });\r\n\r\n        modal.addEventListener('mouseenter', () => {\r\n            if (isMobile()) return;\r\n            openModal(modal);\r\n        });\r\n\r\n        modal.addEventListener('mouseleave', () => {\r\n            if (isMobile()) return;\r\n            closeModal(modal);\r\n        });\r\n\r\n        closeBtn?.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            closeModal(modal);\r\n        });\r\n    });\r\n\r\n    document.addEventListener('click', (e) => {\r\n        if (!isMobile()) return;\r\n\r\n        const openModalEl = document.querySelector('.modal.is-open');\r\n        if (!openModalEl) return;\r\n\r\n        const content = openModalEl.querySelector('.modal-inner');\r\n        if (!content) return;\r\n\r\n        if (\r\n            !content.contains(e.target) &&\r\n            !e.target.closest('.modal-trigger')\r\n        ) {\r\n            closeAllModals();\r\n        }\r\n    });\r\n\r\n    window.addEventListener('resize', closeAllModals);\r\n\r\n/*Implementation slider*/\r\n    const section = document.querySelector('.implementation');\r\n    if (!section) return;\r\n\r\n    const inner = section.querySelector('.implementation__inner');\r\n    if (!inner) return;\r\n\r\n    const btnNext = section.querySelector('.implementation__nav-btn.next');\r\n    const btnPrev = section.querySelector('.implementation__nav-btn.prev');\r\n    const itemNumEl = section.querySelector('.implementation__item-num span');\r\n\r\n    // -------------------------\r\n    // CONFIG\r\n    // -------------------------\r\n    const MAX_ITEMS = 5;\r\n\r\n    // –¶–µ–Ω—Ç—Ä-—Ä–µ–∂–∏–º (–¥–µ—Å–∫—Ç–æ–ø): ‚Äú–∫–æ—Ä–∏–¥–æ—Ä‚Äù –Ω–∞–≤–∫–æ–ª–æ —Ü–µ–Ω—Ç—Ä—É –µ–∫—Ä–∞–Ω–∞\r\n    // 0.18 => –∫–æ—Ä–∏–¥–æ—Ä ¬±18% –≤–∏—Å–æ—Ç–∏ –µ–∫—Ä–∞–Ω–∞ (–∑—Ä–æ–±–∏ 0.22 —è–∫—â–æ —Ö–æ—á–µ—à –ª–æ–≤–∏—Ç–∏ —Ä–∞–Ω—ñ—à–µ)\r\n    const CENTER_BAND = 0.18;\r\n\r\n    // –°–∫—ñ–ª—å–∫–∏ —Å–µ–∫—Ü—ñ—ó –º–∞—î –±—É—Ç–∏ –≤–∏–¥–Ω–æ, —â–æ–± lock –≤–º–∏–∫–∞–≤—Å—è (—â–æ–± –Ω–µ –ª–æ–≤–∏–≤ ‚Äú–∫—Ä–∞—î–º‚Äù)\r\n    const MIN_VISIBLE_RATIO = 0.55;\r\n\r\n    // Wheel tuning\r\n    const WHEEL_THRESHOLD = 90;   // ‚Üë —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–µ (–º–µ–Ω—à–µ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∫—Ä–æ–∫—ñ–≤)\r\n    const DELTA_CLAMP = 90;\r\n\r\n    // 1 –∫—Ä–æ–∫ –Ω–∞ 1 –∂–µ—Å—Ç —Ç–∞—á–ø–∞–¥–∞\r\n    const GESTURE_END_MS = 160;\r\n\r\n    // -------------------------\r\n    // STATE\r\n    // -------------------------\r\n    let inBand = false;\r\n    let visibleEnough = false;\r\n\r\n    let wheelAccum = 0;\r\n    let gestureStepped = false;\r\n    let gestureTimer = null;\r\n\r\n    // -------------------------\r\n    // HELPERS\r\n    // -------------------------\r\n    const clamp = (n, min, max) => Math.min(Math.max(n, min), max);\r\n    const normDelta = (dy) => clamp(dy, -DELTA_CLAMP, DELTA_CLAMP);\r\n\r\n    const getActiveIndex = () => {\r\n        const m = inner.className.match(/item-(\\d+)-active/);\r\n        const n = m ? parseInt(m[1], 10) : 1;\r\n        return clamp(n, 1, MAX_ITEMS);\r\n    };\r\n\r\n    const setActiveIndex = (index) => {\r\n        const next = clamp(index, 1, MAX_ITEMS);\r\n\r\n        for (let i = 1; i <= MAX_ITEMS; i++) inner.classList.remove(`item-${i}-active`);\r\n        inner.classList.add(`item-${next}-active`);\r\n\r\n        if (itemNumEl) itemNumEl.textContent = String(next).padStart(2, '0');\r\n\r\n        if (btnPrev) btnPrev.disabled = next === 1;\r\n        if (btnNext) btnNext.disabled = next === MAX_ITEMS;\r\n    };\r\n\r\n    const step = (dir) => setActiveIndex(getActiveIndex() + dir);\r\n\r\n    const resetGesture = () => {\r\n        wheelAccum = 0;\r\n        gestureStepped = false;\r\n        if (gestureTimer) {\r\n            clearTimeout(gestureTimer);\r\n            gestureTimer = null;\r\n        }\r\n    };\r\n\r\n    const markGesture = () => {\r\n        if (gestureTimer) clearTimeout(gestureTimer);\r\n        gestureTimer = setTimeout(() => {\r\n            gestureStepped = false;\r\n            wheelAccum = 0;\r\n            gestureTimer = null;\r\n        }, GESTURE_END_MS);\r\n    };\r\n\r\n    // –¶–µ–Ω—Ç—Ä-—É–º–æ–≤–∞: —Ü–µ–Ω—Ç—Ä —Å–µ–∫—Ü—ñ—ó –ø–æ—Ç—Ä–∞–ø–∏–≤ –≤ ‚Äú–∫–æ—Ä–∏–¥–æ—Ä‚Äù –Ω–∞–≤–∫–æ–ª–æ —Ü–µ–Ω—Ç—Ä—É –µ–∫—Ä–∞–Ω—É\r\n    const isInCenterBand = () => {\r\n        const rect = section.getBoundingClientRect();\r\n        const vh = window.innerHeight || document.documentElement.clientHeight;\r\n\r\n        const secCenter = rect.top + rect.height / 2;\r\n        const viewCenter = vh / 2;\r\n\r\n        const band = vh * CENTER_BAND;\r\n\r\n        return Math.abs(secCenter - viewCenter) <= band;\r\n    };\r\n\r\n    // -------------------------\r\n    // BUTTONS\r\n    // -------------------------\r\n    btnNext?.addEventListener('click', (e) => { e.preventDefault(); step(+1); });\r\n    btnPrev?.addEventListener('click', (e) => { e.preventDefault(); step(-1); });\r\n\r\n    // -------------------------\r\n    // MOBILE SWIPE (left/right)\r\n    // -------------------------\r\n    let touchStartX = 0;\r\n    let touchStartY = 0;\r\n\r\n    const SWIPE_MIN_DIST = 40;\r\n    const SWIPE_MAX_ANGLE = 0.6;\r\n\r\n    section.addEventListener('touchstart', (e) => {\r\n        if (!isMobile()) return;\r\n        const t = e.touches[0];\r\n        touchStartX = t.clientX;\r\n        touchStartY = t.clientY;\r\n    }, { passive: true });\r\n\r\n    section.addEventListener('touchend', (e) => {\r\n        if (!isMobile()) return;\r\n        const t = e.changedTouches[0];\r\n        const dx = t.clientX - touchStartX;\r\n        const dy = t.clientY - touchStartY;\r\n\r\n        if (Math.abs(dx) < SWIPE_MIN_DIST) return;\r\n        if (Math.abs(dy) > Math.abs(dx) * SWIPE_MAX_ANGLE) return;\r\n\r\n        if (dx < 0) step(+1);\r\n        else step(-1);\r\n    }, { passive: true });\r\n\r\n    // -------------------------\r\n    // OBSERVER: –≤–∏–¥–∏–º—ñ—Å—Ç—å\r\n    // -------------------------\r\n    const io = new IntersectionObserver((entries) => {\r\n        const e = entries[0];\r\n        visibleEnough = e.isIntersecting && e.intersectionRatio >= MIN_VISIBLE_RATIO;\r\n\r\n        // —è–∫—â–æ –º–∞–π–∂–µ –≤–∏–π—à–ª–∏ ‚Äî —Å–∫–∏–¥–∞—î–º–æ, —â–æ–± –Ω–µ ‚Äú—Ç—Ä–∏–º–∞–ª–æ‚Äù\r\n        if (!e.isIntersecting || e.intersectionRatio < 0.2) {\r\n            resetGesture();\r\n        }\r\n    }, { threshold: [0, 0.2, MIN_VISIBLE_RATIO, 1] });\r\n\r\n    io.observe(section);\r\n\r\n    // -------------------------\r\n    // DESKTOP: WHEEL CENTER LOCK\r\n    // -------------------------\r\n    const onWheel = (e) => {\r\n        if (isMobile()) return;\r\n\r\n        // –æ–Ω–æ–≤–ª—é—î–º–æ band –ø–æ —Ñ–∞–∫—Ç—É (–±–µ–∑ —Ç–∞–π–º–µ—Ä—ñ–≤)\r\n        inBand = isInCenterBand();\r\n\r\n        // —è–∫—â–æ –Ω–µ –≤–∏–¥–Ω–æ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∞–±–æ –Ω–µ –≤ —Ü–µ–Ω—Ç—Ä-–∫–æ—Ä–∏–¥–æ—Ä—ñ ‚Äî –≤—ñ–¥–ø—É—Å–∫–∞—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É\r\n        if (!visibleEnough || !inBand) {\r\n            resetGesture();\r\n            return;\r\n        }\r\n\r\n        const dy = normDelta(e.deltaY);\r\n        const idx = getActiveIndex();\r\n\r\n        // –ù–∞ –∫—Ä–∞—è—Ö ‚Äî –≤—ñ–¥–ø—É—Å–∫–∞—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É —É ‚Äú–∑–æ–≤–Ω—ñ—à–Ω—å–æ–º—É‚Äù –Ω–∞–ø—Ä—è–º–∫—É\r\n        if ((idx === 1 && dy < 0) || (idx === MAX_ITEMS && dy > 0)) {\r\n            resetGesture();\r\n            return; // –±–µ–∑ preventDefault\r\n        }\r\n\r\n        // –í –º–µ–∂–∞—Ö ‚Äî –±–ª–æ–∫—É—î–º–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏–π —Å–∫—Ä–æ–ª\r\n        e.preventDefault();\r\n\r\n        // –∂–µ—Å—Ç —Ç–∞—á–ø–∞–¥–∞\r\n        markGesture();\r\n\r\n        // 1 –∫—Ä–æ–∫ –Ω–∞ 1 –∂–µ—Å—Ç\r\n        if (gestureStepped) return;\r\n\r\n        wheelAccum += dy;\r\n\r\n        const dir =\r\n            wheelAccum >= WHEEL_THRESHOLD ? +1 :\r\n                wheelAccum <= -WHEEL_THRESHOLD ? -1 :\r\n                    0;\r\n\r\n        if (!dir) return;\r\n\r\n        step(dir);\r\n        gestureStepped = true;\r\n        wheelAccum = 0;\r\n    };\r\n\r\n    window.addEventListener('wheel', onWheel, { passive: false });\r\n\r\n    // -------------------------\r\n    // INIT / RESIZE\r\n    // -------------------------\r\n    setActiveIndex(getActiveIndex());\r\n\r\n    window.addEventListener('resize', () => {\r\n        resetGesture();\r\n    });\r\n\r\n/*Show more / less*/\r\n    const list = document.querySelector('.about__list');\r\n    if (!list) return;\r\n\r\n// ‚úÖ –∞–∫—Ç—É–∞–ª—å–Ω—ñ items\r\n    const getItems = () => [...list.querySelectorAll('.about__list-item')];\r\n\r\n// ‚úÖ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π DOM-–ø–æ—Ä—è–¥–æ–∫, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏—Å—å\r\n    const initialOrder = getItems();\r\n\r\n// ===== Mobile helpers =====\r\n    function closeDesc(desc) {\r\n        desc.classList.add('is-collapsed');\r\n        desc.style.maxHeight = '0px';\r\n    }\r\n\r\n    function openDesc(desc) {\r\n        desc.classList.remove('is-collapsed');\r\n        desc.style.maxHeight = desc.scrollHeight + 'px';\r\n    }\r\n\r\n    function resetDesktop(desc) {\r\n        desc.classList.remove('is-collapsed');\r\n        desc.style.removeProperty('max-height');\r\n    }\r\n\r\n// ===== Reset states =====\r\n    function resetDesktopClasses() {\r\n        list.classList.remove('is-expanded');\r\n        getItems().forEach(li => li.classList.remove('is-active', 'is-left', 'is-right'));\r\n    }\r\n\r\n    function applyMobileState() {\r\n        resetDesktopClasses();\r\n\r\n        getItems().forEach(li => {\r\n            const desc = li.querySelector('.about__list-item--description');\r\n            const btn  = li.querySelector('.about__list-item--btn');\r\n            if (!desc || !btn) return;\r\n\r\n            btn.style.display = 'inline-block';\r\n\r\n            const isOpen = btn.classList.contains('is-open');\r\n            isOpen ? openDesc(desc) : closeDesc(desc);\r\n\r\n            btn.textContent = isOpen ? 'Read less' : 'Read more';\r\n        });\r\n    }\r\n\r\n    function applyDesktopState() {\r\n        getItems().forEach(li => {\r\n            const desc = li.querySelector('.about__list-item--description');\r\n            const btn  = li.querySelector('.about__list-item--btn');\r\n\r\n            if (desc) resetDesktop(desc);\r\n\r\n            if (btn) {\r\n                btn.style.display = 'none';\r\n                btn.classList.remove('is-open');\r\n                btn.textContent = '';\r\n            }\r\n        });\r\n\r\n        resetDesktopClasses();\r\n\r\n        // ‚úÖ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø\r\n        initialOrder.forEach(el => list.appendChild(el));\r\n    }\r\n\r\n// ===== FLIP =====\r\n    function flipAnimate(container, mutate, duration = 520) {\r\n        const els = Array.from(container.children);\r\n\r\n        const first = new Map(els.map(el => [el, el.getBoundingClientRect()]));\r\n\r\n        mutate();\r\n\r\n        container.getBoundingClientRect(); // force layout\r\n\r\n        const last = new Map(els.map(el => [el, el.getBoundingClientRect()]));\r\n\r\n        els.forEach(el => {\r\n            const f = first.get(el);\r\n            const l = last.get(el);\r\n            if (!f || !l) return;\r\n\r\n            const dx = f.left - l.left;\r\n            const dy = f.top - l.top;\r\n\r\n            if (dx || dy) {\r\n                el.style.transform = `translate(${dx}px, ${dy}px)`;\r\n                el.style.transition = 'transform 0s';\r\n            }\r\n        });\r\n\r\n        requestAnimationFrame(() => {\r\n            els.forEach(el => {\r\n                if (el.style.transform) {\r\n                    el.style.transition = `transform ${duration}ms ease`;\r\n                    el.style.transform = '';\r\n                }\r\n            });\r\n        });\r\n\r\n        setTimeout(() => {\r\n            els.forEach(el => {\r\n                el.style.transition = '';\r\n                el.style.transform = '';\r\n            });\r\n        }, duration + 60);\r\n\r\n        return duration;\r\n    }\r\n\r\n// ===== Desktop click =====\r\n    list.addEventListener('click', (e) => {\r\n        // ===== MOBILE =====\r\n        if (isMobile()) {\r\n            const btn = e.target.closest('.about__list-item--btn');\r\n            if (!btn) return;\r\n\r\n            const li = btn.closest('.about__list-item');\r\n            if (!li) return;\r\n\r\n            const desc = li.querySelector('.about__list-item--description');\r\n            if (!desc) return;\r\n\r\n            btn.classList.toggle('is-open');\r\n            const nowOpen = btn.classList.contains('is-open');\r\n\r\n            nowOpen ? openDesc(desc) : closeDesc(desc);\r\n            btn.textContent = nowOpen ? 'Read less' : 'Read more';\r\n            return;\r\n        }\r\n\r\n        // ===== DESKTOP =====\r\n        const img = e.target.closest('.about__list-item--img');\r\n        if (!img) return;\r\n\r\n        const activeItem = img.closest('.about__list-item');\r\n        if (!activeItem) return;\r\n\r\n        const itemsBefore = getItems();                 // DOM –ø–æ—Ä—è–¥–æ–∫ –î–û –∑–º—ñ–Ω\r\n        const activeIndex = itemsBefore.indexOf(activeItem);\r\n        const wasActive = activeItem.classList.contains('is-active');\r\n\r\n        // toggle OFF: –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ—Ä—è–¥–æ–∫ + –∑–Ω—ñ–º–∞—î–º–æ –∫–ª–∞—Å–∏ (–ø–ª–∞–≤–Ω–æ —á–µ—Ä–µ–∑ FLIP)\r\n        if (wasActive) {\r\n            flipAnimate(list, () => {\r\n                resetDesktopClasses();\r\n                initialOrder.forEach(el => list.appendChild(el));\r\n            }, 520);\r\n            return;\r\n        }\r\n\r\n        // toggle ON: –∞–∫—Ç–∏–≤–Ω–∏–π —Å—Ç–∞—î –ø–µ—Ä—à–∏–º, —ñ–Ω—à—ñ —Ä–æ–∑'—ó–∂–¥–∂–∞—é—Ç—å—Å—è\r\n        flipAnimate(list, () => {\r\n            // reset\r\n            resetDesktopClasses();\r\n\r\n            // 1) –∞–∫—Ç–∏–≤–Ω–∏–π –Ω–∞ –ø–µ—Ä—à–µ –º—ñ—Å—Ü–µ\r\n            list.prepend(activeItem);\r\n\r\n            // 2) –∞–∫—Ç–∏–≤–Ω–∏–π –∫–ª–∞—Å\r\n            activeItem.classList.add('is-active');\r\n\r\n            // 3) —Ö—Ç–æ –±—É–≤ –î–û –∞–∫—Ç–∏–≤–Ω–æ–≥–æ -> –≤–ª—ñ–≤–æ, —Ö—Ç–æ –ü–Ü–°–õ–Ø -> –≤–ø—Ä–∞–≤–æ\r\n            itemsBefore.forEach((item, i) => {\r\n                if (item === activeItem) return;\r\n                if (i < activeIndex) item.classList.add('is-left');\r\n                else item.classList.add('is-right');\r\n            });\r\n\r\n            // 4) –≤–º–∏–∫–∞—î–º–æ —Ä–æ–∑'—ó–∑–¥ (CSS —Ä–æ–±–∏—Ç—å translateX –¥–ª—è left/right)\r\n            list.classList.add('is-expanded');\r\n        }, 520);\r\n    });\r\n\r\n// ===== transitionend —Ç—ñ–ª—å–∫–∏ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å—É =====\r\n    getItems().forEach(li => {\r\n        const desc = li.querySelector('.about__list-item--description');\r\n        if (!desc) return;\r\n\r\n        desc.addEventListener('transitionend', (ev) => {\r\n            if (ev.propertyName !== 'max-height') return;\r\n            if (!isMobile()) return;\r\n\r\n            if (!desc.classList.contains('is-collapsed')) {\r\n                desc.style.maxHeight = 'none';\r\n            }\r\n        });\r\n    });\r\n\r\n// ===== Init + resize =====\r\n    let lastMode = isMobile() ? 'mobile' : 'desktop';\r\n\r\n    function init() {\r\n        const mode = isMobile() ? 'mobile' : 'desktop';\r\n        mode === 'mobile' ? applyMobileState() : applyDesktopState();\r\n        lastMode = mode;\r\n    }\r\n\r\n    init();\r\n\r\n    window.addEventListener('resize', () => {\r\n        const mode = isMobile() ? 'mobile' : 'desktop';\r\n        if (mode === lastMode) return;\r\n        init();\r\n    });\r\n\r\n\r\n    /*Logo line*/\r\n    const root = document.querySelector('.logo-line');\r\n    if (!root) return;\r\n\r\n    const viewport = root.querySelector('.logo-line__viewport');\r\n    const track = root.querySelector('.logo-line__track');\r\n    const logoList = root.querySelector('.logo-line__list');\r\n    if (!viewport || !track || !logoList) return;\r\n\r\n    const SPEED = 80; // px/sec\r\n    let clone = track.querySelector('.logo-line__list[data-clone=\"1\"]');\r\n\r\n    // —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–ª–æ–Ω –æ–¥–∏–Ω —Ä–∞–∑\r\n    if (!clone) {\r\n        clone = logoList.cloneNode(true);\r\n        clone.setAttribute('data-clone', '1');\r\n        track.appendChild(clone);\r\n    }\r\n\r\n    const measure = () => {\r\n        const distance = logoList.getBoundingClientRect().width;\r\n        if (!distance) return;\r\n\r\n        root.style.setProperty('--marquee-distance', `${distance}px`);\r\n        root.style.setProperty('--marquee-duration', `${distance / SPEED}s`);\r\n    };\r\n\r\n    // —á–µ–∫–∞—î–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ª–æ–≥–æ—Ç–∏–ø—ñ–≤\r\n    const imgs = [...root.querySelectorAll('img')];\r\n    const waitImages = Promise.all(\r\n        imgs.map(img =>\r\n            img.complete\r\n                ? Promise.resolve()\r\n                : new Promise(res => {\r\n                    img.addEventListener('load', res, { once: true });\r\n                    img.addEventListener('error', res, { once: true });\r\n                })\r\n        )\r\n    );\r\n\r\n    waitImages.then(measure);\r\n\r\n    // —è–∫—â–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —à–∏—Ä–∏–Ω–∞ (resize / responsive)\r\n    const ro = new ResizeObserver(() => {\r\n        clearTimeout(measure._t);\r\n        measure._t = setTimeout(measure, 120);\r\n    });\r\n\r\n    ro.observe(viewport);\r\n    ro.observe(logoList);\r\n\r\n    window.addEventListener('resize', () => {\r\n        clearTimeout(measure._t);\r\n        measure._t = setTimeout(measure, 150);\r\n    });\r\n\r\n/*Tabs*/\r\n    document.querySelectorAll('.tabs').forEach(tabs => {\r\n        const section = tabs.closest('.how-it-works'); // üëà —Å–µ–∫—Ü—ñ—è –∑ —Ñ–æ–Ω–æ–º\r\n        const buttons = [...tabs.querySelectorAll('[data-tab]')];\r\n        const panels  = [...tabs.querySelectorAll('[data-tab-target]')];\r\n\r\n        if (!buttons.length || !panels.length) return;\r\n\r\n        const interval = parseInt(tabs.dataset.interval, 10) || 4000;\r\n\r\n        const order = buttons.map(btn => btn.dataset.tab);\r\n\r\n        let currentIndex = Math.max(\r\n            0,\r\n            buttons.findIndex(btn => btn.classList.contains('is-active'))\r\n        );\r\n        if (currentIndex === -1) currentIndex = 0;\r\n\r\n        let timer = null;\r\n\r\n        const setBackgroundClass = (name) => {\r\n            if (!section) return;\r\n\r\n            // –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –≤—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ how-it-works--*\r\n            section.className = section.className\r\n                .split(' ')\r\n                .filter(cls => !cls.startsWith('how-it-works--'))\r\n                .join(' ');\r\n\r\n            // –¥–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π\r\n            section.classList.add(`how-it-works--${name}`);\r\n        };\r\n\r\n        const activateByName = (name) => {\r\n            buttons.forEach(btn =>\r\n                btn.classList.toggle('is-active', btn.dataset.tab === name)\r\n            );\r\n\r\n            panels.forEach(panel =>\r\n                panel.classList.toggle(\r\n                    'is-active',\r\n                    panel.dataset.tabTarget === name\r\n                )\r\n            );\r\n\r\n            setBackgroundClass(name);\r\n            currentIndex = order.indexOf(name);\r\n        };\r\n\r\n        const next = () => {\r\n            const nextIndex = (currentIndex + 1) % order.length;\r\n            activateByName(order[nextIndex]);\r\n        };\r\n\r\n        const start = () => {\r\n            stop();\r\n            timer = setInterval(next, interval);\r\n        };\r\n\r\n        const stop = () => {\r\n            if (timer) {\r\n                clearInterval(timer);\r\n                timer = null;\r\n            }\r\n        };\r\n\r\n        // –∫–ª—ñ–∫–∏ –ø–æ —Ç–∞–±–∞—Ö\r\n        buttons.forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                activateByName(btn.dataset.tab);\r\n                start(); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ü–∏–∫–ª—É\r\n            });\r\n        });\r\n\r\n        // init\r\n        activateByName(order[currentIndex]);\r\n        start();\r\n\r\n        // –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è: –Ω–µ –∫—Ä—É—Ç–∏—Ç–∏ —É –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –±—Ä–∞—É–∑–µ—Ä–∞\r\n        document.addEventListener('visibilitychange', () => {\r\n            document.hidden ? stop() : start();\r\n        });\r\n    });\r\n\r\n/*Parallax for CTA*/\r\n    const ctaSection = document.querySelector('.cta');\r\n    if (!ctaSection) return;\r\n\r\n    const ctaBg = ctaSection.querySelector('.cta__bg');\r\n    if (!ctaBg) return;\r\n\r\n    const DESKTOP_BREAKPOINT = 1024;\r\n\r\n    let MAX_OFFSET_PX = 120; // desktop default\r\n    let isTicking = false;\r\n    let isInView = true;\r\n\r\n    const applySettings = () => {\r\n        if (window.innerWidth >= DESKTOP_BREAKPOINT) {\r\n            // üñ• DESKTOP\r\n            MAX_OFFSET_PX = 280;   // –º–æ–∂–µ—à –∑–±—ñ–ª—å—à–∏—Ç–∏ –¥–æ 160\r\n        } else {\r\n            // üì± MOBILE\r\n            MAX_OFFSET_PX = 150;    // –∞–±–æ 0, —è–∫—â–æ –Ω–µ —Ö–æ—á–µ—à –ø–∞—Ä–∞–ª–∞–∫—Å –Ω–∞ –º–æ–±—ñ–ª—Ü—ñ\r\n        }\r\n    };\r\n\r\n    applySettings();\r\n\r\n    const updateParallax = () => {\r\n        const rect = ctaSection.getBoundingClientRect();\r\n        const vh = window.innerHeight;\r\n\r\n        isInView = rect.bottom > 0 && rect.top < vh;\r\n        if (!isInView) {\r\n            isTicking = false;\r\n            return;\r\n        }\r\n\r\n        const progress = (vh - rect.top) / (vh + rect.height);\r\n        const clamped = Math.min(Math.max(progress, 0), 1);\r\n\r\n        const translateY = (clamped - 0.5) * MAX_OFFSET_PX * 2;\r\n\r\n        ctaBg.style.transform = `translate3d(0, ${translateY}px, 0)`;\r\n\r\n        isTicking = false;\r\n    };\r\n\r\n    const requestUpdate = () => {\r\n        if (isTicking) return;\r\n        isTicking = true;\r\n        requestAnimationFrame(updateParallax);\r\n    };\r\n\r\n    window.addEventListener('scroll', requestUpdate, { passive: true });\r\n    window.addEventListener('resize', () => {\r\n        applySettings();\r\n        requestUpdate();\r\n    });\r\n\r\n    // —Å—Ç–∞—Ä—Ç\r\n    requestUpdate();\r\n\r\n/* Accordion */\r\n    const accordion = document.querySelector('.accordion');\r\n\r\n    function open(panel, item){\r\n        item.classList.add('is-open');\r\n        panel.style.height = panel.getBoundingClientRect().height + 'px';\r\n        requestAnimationFrame(() => {\r\n            panel.style.height = panel.scrollHeight + 'px';\r\n        });\r\n        const onEnd = (e) => {\r\n            if (e.propertyName !== 'height') return;\r\n            panel.removeEventListener('transitionend', onEnd);\r\n            panel.style.height = 'auto';\r\n        };\r\n        panel.addEventListener('transitionend', onEnd);\r\n    }\r\n\r\n    function close(panel, item){\r\n        item.classList.remove('is-open');\r\n        panel.style.height = panel.scrollHeight + 'px';\r\n        requestAnimationFrame(() => {\r\n            panel.style.height = '0px';\r\n        });\r\n    }\r\n\r\n    accordion.addEventListener('click', (e) => {\r\n        const btn = e.target.closest('.acc-trigger');\r\n        if (!btn) return;\r\n\r\n        const item = btn.parentElement;\r\n        const panel = btn.nextElementSibling;\r\n        const isOpen = item.classList.contains('is-open');\r\n\r\n        accordion.querySelectorAll('.acc-item.is-open').forEach(other => {\r\n            const otherPanel = other.querySelector('.acc-panel');\r\n            if (other !== item) close(otherPanel, other);\r\n        });\r\n\r\n        if (!isOpen) {\r\n            open(panel, item);\r\n        } else {\r\n            close(panel, item);\r\n        }\r\n    });\r\n\r\n    document.querySelectorAll('.acc-item.is-open .acc-panel').forEach(p => p.style.height = 'auto');\r\n\r\n\r\n/*Reviews read more*/\r\n    const blocks = document.querySelectorAll('.reviews__list-text[data-words]');\r\n\r\n    blocks.forEach(block => {\r\n        const wordsLimit = parseInt(block.dataset.words, 10);\r\n        if (!wordsLimit) return;\r\n\r\n        const p = block.querySelector('p');\r\n        if (!p) return;\r\n\r\n        const fullText = (p.textContent || '').trim();\r\n        const words = fullText.split(/\\s+/);\r\n        if (words.length <= wordsLimit) return;\r\n\r\n        const shortText = words.slice(0, wordsLimit).join(' ') + '‚Ä¶';\r\n\r\n        // wrap text only (button will be outside)\r\n        const inner = document.createElement('div');\r\n        inner.className = 'reviews__list-text-inner';\r\n        block.insertBefore(inner, p);\r\n        inner.appendChild(p);\r\n\r\n        // button\r\n        const btn = document.createElement('button');\r\n        btn.type = 'button';\r\n        btn.className = 'reviews__read-more';\r\n        block.appendChild(btn);\r\n\r\n        let isOpen = false;\r\n\r\n        const setBtn = () => (btn.textContent = isOpen ? 'Read less' : 'Read more');\r\n\r\n        const setMaxHeightToContent = () => {\r\n            // —Å—Ç–∞–≤–∏–º–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –≤–∏—Å–æ—Ç—É, —â–æ–± –±—É–≤ slide\r\n            inner.style.maxHeight = inner.scrollHeight + 'px';\r\n        };\r\n\r\n        const setClosedHeight = () => {\r\n            // –≤–∞–∂–ª–∏–≤–æ: –∑–∞–º—ñ—Ä –≤–∏—Å–æ—Ç–∏ –∑ –∫–æ—Ä–æ—Ç–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º\r\n            inner.style.maxHeight = inner.scrollHeight + 'px';\r\n        };\r\n\r\n        const open = () => {\r\n            // 1) —Å—Ç–∞–≤–∏–º–æ –ø–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç\r\n            p.textContent = fullText;\r\n\r\n            // 2) —Å–∫–∏–¥–∞—î–º–æ max-height –Ω–∞ 0 —ñ –æ–¥—Ä–∞–∑—É —Å—Ç–∞–≤–∏–º–æ –ø–æ—Ç—Ä—ñ–±–Ω—É (–¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ transition)\r\n            inner.style.maxHeight = '0px';\r\n            inner.getBoundingClientRect(); // force reflow\r\n            setMaxHeightToContent();\r\n        };\r\n\r\n        const close = () => {\r\n            // 1) —Ñ—ñ–∫—Å—É—î–º–æ –ø–æ—Ç–æ—á–Ω—É –≤–∏—Å–æ—Ç—É (–∑ fullText)\r\n            inner.style.maxHeight = inner.scrollHeight + 'px';\r\n            inner.getBoundingClientRect(); // force reflow\r\n\r\n            // 2) —Å—Ç–∞–≤–∏–º–æ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\r\n            p.textContent = shortText;\r\n\r\n            // 3) —Å—Ç–∞–≤–∏–º–æ max-height –ø—ñ–¥ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\r\n            setClosedHeight();\r\n        };\r\n\r\n        // –ø—ñ—Å–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–∂–Ω–∞ \"–≤—ñ–¥–ø—É—Å—Ç–∏—Ç–∏\" max-height, —â–æ–± –Ω–µ —Ä—ñ–∑–∞–ª–æ –ø—Ä–∏ responsive\r\n        inner.addEventListener('transitionend', (e) => {\r\n            if (e.propertyName !== 'max-height') return;\r\n            if (isOpen) {\r\n                inner.style.maxHeight = 'none';\r\n            }\r\n        });\r\n\r\n        btn.addEventListener('click', () => {\r\n            isOpen = !isOpen;\r\n            setBtn();\r\n\r\n            if (isOpen) open();\r\n            else {\r\n                // —è–∫—â–æ –±—É–ª–æ none ‚Äî —Ç—Ä–µ–±–∞ –∑–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–¥ –∞–Ω—ñ–º–∞—Ü—ñ—î—é\r\n                if (inner.style.maxHeight === 'none') {\r\n                    inner.style.maxHeight = inner.scrollHeight + 'px';\r\n                    inner.getBoundingClientRect();\r\n                }\r\n                close();\r\n            }\r\n        });\r\n\r\n        // init (closed)\r\n        p.textContent = shortText;\r\n        setBtn();\r\n        // –≤–∏—Å—Ç–∞–≤–ª—è—î–º–æ —Å—Ç–∞—Ä—Ç–æ–≤—É –≤–∏—Å–æ—Ç—É –ø—ñ–¥ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\r\n        inner.style.maxHeight = inner.scrollHeight + 'px';\r\n\r\n        // optional: –Ω–∞ —Ä–µ—Å–∞–π–∑—ñ –∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏, —è–∫—â–æ –∑–∞–∫—Ä–∏—Ç–æ\r\n        const ro = new ResizeObserver(() => {\r\n            if (isOpen) return;\r\n            inner.style.maxHeight = inner.scrollHeight + 'px';\r\n        });\r\n        ro.observe(block);\r\n    });\r\n\r\n    const annotationRoot = document.querySelector('.reviews__annotation[data-words]');\r\n    if (!annotationRoot) return;\r\n\r\n/*Reviews annotation read more*/\r\n    const annotationLimit = parseInt(annotationRoot.dataset.words, 10);\r\n    if (!annotationLimit) return;\r\n\r\n    // –ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç (—É—Å—ñ <p>)\r\n    const annotationFullHTML = annotationRoot.innerHTML;\r\n    const annotationFullText = annotationRoot.textContent\r\n        .trim()\r\n        .replace(/\\s+/g, ' ');\r\n\r\n    const annotationWords = annotationFullText.split(' ');\r\n    if (annotationWords.length <= annotationLimit) return;\r\n\r\n    const annotationShortText =\r\n        annotationWords.slice(0, annotationLimit).join(' ') + '‚Ä¶';\r\n\r\n    // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –∞–Ω—ñ–º—É—î–º–æ\r\n    const annotationInner = document.createElement('div');\r\n    annotationInner.className = 'reviews__annotation-inner';\r\n    annotationInner.innerHTML = `<p>${annotationShortText}</p>`;\r\n\r\n    // –ö–Ω–æ–ø–∫–∞\r\n    const annotationToggle = document.createElement('button');\r\n    annotationToggle.type = 'button';\r\n    annotationToggle.className = 'reviews__annotation-toggle';\r\n\r\n    let annotationIsOpen = false;\r\n\r\n    const annotationSetButton = () => {\r\n        annotationToggle.textContent = annotationIsOpen\r\n            ? 'Show less'\r\n            : 'Learn more';\r\n    };\r\n\r\n    const annotationSetMaxHeight = () => {\r\n        annotationInner.style.maxHeight =\r\n            annotationInner.scrollHeight + 'px';\r\n    };\r\n\r\n    const annotationOpen = () => {\r\n        annotationInner.innerHTML = annotationFullHTML;\r\n\r\n        annotationInner.style.maxHeight = '0px';\r\n        annotationInner.getBoundingClientRect(); // reflow\r\n        annotationSetMaxHeight();\r\n    };\r\n\r\n    const annotationClose = () => {\r\n        if (annotationInner.style.maxHeight === 'none') {\r\n            annotationInner.style.maxHeight =\r\n                annotationInner.scrollHeight + 'px';\r\n            annotationInner.getBoundingClientRect();\r\n        }\r\n\r\n        annotationInner.innerHTML = `<p>${annotationShortText}</p>`;\r\n        annotationSetMaxHeight();\r\n    };\r\n\r\n    annotationInner.addEventListener('transitionend', (e) => {\r\n        if (e.propertyName !== 'max-height') return;\r\n        if (annotationIsOpen) {\r\n            annotationInner.style.maxHeight = 'none';\r\n        }\r\n    });\r\n\r\n    annotationToggle.addEventListener('click', () => {\r\n        annotationIsOpen = !annotationIsOpen;\r\n        annotationSetButton();\r\n        annotationIsOpen ? annotationOpen() : annotationClose();\r\n    });\r\n\r\n    // –ú–æ–Ω—Ç–∞–∂\r\n    annotationRoot.innerHTML = '';\r\n    annotationRoot.appendChild(annotationInner);\r\n    annotationRoot.appendChild(annotationToggle);\r\n\r\n    // Init\r\n    annotationSetButton();\r\n    annotationSetMaxHeight();\r\n\r\n    // Resize safety\r\n    const annotationRO = new ResizeObserver(() => {\r\n        if (!annotationIsOpen) {\r\n            annotationSetMaxHeight();\r\n        }\r\n    });\r\n    annotationRO.observe(annotationRoot);\r\n\r\n/*Health optimization scroll*/\r\n    const hoViewport = document.querySelector('.health-optimization__list');\r\n    if (!hoViewport) return;\r\n\r\n    const hoTrack = hoViewport.querySelector('.health-optimization__track');\r\n    if (!hoTrack) return;\r\n\r\n    const hoMOBILE_BP = 1023;\r\n\r\n// position\r\n    let hoX = 0;\r\n    let hoDir = 1;            // 1 ‚Üí forward, -1 ‚Üí back (mobile)\r\n    let hoRafId = null;       // mobile RAF\r\n    let hoMode = null;        // 'mobile' | 'desktop'\r\n\r\n// smooth wheel (desktop)\r\n    let hoTargetX = 0;\r\n    let hoEaseRafId = null;\r\n    const hoEASE = 0.12;      // 0.08..0.18 (bigger = faster)\r\n    const ho_WHEEL_SENS = 0.9; // wheel sensitivity\r\n\r\n    const hoIsMobile = () => window.innerWidth <= hoMOBILE_BP;\r\n\r\n    const hoMaxScroll = () => {\r\n        const vw = hoViewport.clientWidth;\r\n        const tw = hoTrack.scrollWidth;\r\n        return Math.max(0, tw - vw);\r\n    };\r\n\r\n    const hoClamp = (val, min, max) => Math.max(min, Math.min(val, max));\r\n\r\n    const hoSetX = (val) => {\r\n        hoX = val;\r\n        hoTrack.style.transform = `translate3d(${-hoX}px, 0, 0)`;\r\n    };\r\n\r\n    /* ===== MOBILE: pendulum auto scroll ===== */\r\n    const hoStartAuto = () => {\r\n        hoStopAuto();\r\n\r\n        const hoSpeed = 0.35; // üëà speed\r\n\r\n        const hoTick = () => {\r\n            const max = hoMaxScroll();\r\n            if (max <= 0) {\r\n                hoRafId = requestAnimationFrame(hoTick);\r\n                return;\r\n            }\r\n\r\n            hoX += hoSpeed * hoDir;\r\n\r\n            if (hoX >= max) {\r\n                hoX = max;\r\n                hoDir = -1;\r\n            } else if (hoX <= 0) {\r\n                hoX = 0;\r\n                hoDir = 1;\r\n            }\r\n\r\n            hoSetX(hoX);\r\n            hoRafId = requestAnimationFrame(hoTick);\r\n        };\r\n\r\n        hoRafId = requestAnimationFrame(hoTick);\r\n    };\r\n\r\n    const hoStopAuto = () => {\r\n        if (hoRafId) cancelAnimationFrame(hoRafId);\r\n        hoRafId = null;\r\n    };\r\n\r\n    /* ===== DESKTOP: wheel scroll (smooth inertia) ===== */\r\n    let hoPointerX = null;\r\n    let hoPointerY = null;\r\n\r\n    window.addEventListener(\r\n        'mousemove',\r\n        (ev) => {\r\n            hoPointerX = ev.clientX;\r\n            hoPointerY = ev.clientY;\r\n        },\r\n        { passive: true }\r\n    );\r\n\r\n    const hoIsPointerOverViewport = () => {\r\n        if (hoPointerX === null || hoPointerY === null) return false;\r\n        const el = document.elementFromPoint(hoPointerX, hoPointerY);\r\n        return !!el && hoViewport.contains(el);\r\n    };\r\n\r\n    const hoStopEase = () => {\r\n        if (hoEaseRafId) cancelAnimationFrame(hoEaseRafId);\r\n        hoEaseRafId = null;\r\n    };\r\n\r\n    const hoStartEase = () => {\r\n        if (hoEaseRafId) return;\r\n\r\n        const step = () => {\r\n            const max = hoMaxScroll();\r\n\r\n            hoTargetX = hoClamp(hoTargetX, 0, max);\r\n\r\n            const diff = hoTargetX - hoX;\r\n\r\n            if (Math.abs(diff) < 0.25) {\r\n                hoSetX(hoTargetX);\r\n                hoEaseRafId = null;\r\n                return;\r\n            }\r\n\r\n            hoSetX(hoX + diff * hoEASE);\r\n            hoEaseRafId = requestAnimationFrame(step);\r\n        };\r\n\r\n        hoEaseRafId = requestAnimationFrame(step);\r\n    };\r\n\r\n    const hoOnWheel = (e) => {\r\n        if (hoMode !== 'desktop') return;\r\n\r\n        // ‚úÖ only when pointer is really over the section (no hover bug)\r\n        if (!hoIsPointerOverViewport()) return;\r\n\r\n        const max = hoMaxScroll();\r\n        if (max <= 0) return;\r\n\r\n        const delta = e.deltaY;\r\n\r\n        // if already at edges and trying to go further ‚Üí let page scroll\r\n        const atStart = hoTargetX <= 0 && delta < 0;\r\n        const atEnd = hoTargetX >= max && delta > 0;\r\n        if (atStart || atEnd) return;\r\n\r\n        e.preventDefault();\r\n\r\n        hoTargetX += delta * ho_WHEEL_SENS;\r\n        hoTargetX = hoClamp(hoTargetX, 0, max);\r\n\r\n        hoStartEase();\r\n    };\r\n\r\n    /* ===== MODE SWITCH ===== */\r\n    const hoApplyMode = () => {\r\n        const nextMode = hoIsMobile() ? 'mobile' : 'desktop';\r\n        if (nextMode === hoMode) return;\r\n\r\n        hoMode = nextMode;\r\n\r\n        // stop everything\r\n        hoStopAuto();\r\n        hoStopEase();\r\n\r\n        // reset position\r\n        const max = hoMaxScroll();\r\n        hoX = 0;\r\n        hoTargetX = 0;\r\n        hoDir = 1;\r\n        hoSetX(0);\r\n\r\n        if (hoMode === 'mobile') {\r\n            window.removeEventListener('wheel', hoOnWheel);\r\n            hoStartAuto();\r\n        } else {\r\n            window.addEventListener('wheel', hoOnWheel, { passive: false });\r\n            // ensure clamped on desktop\r\n            hoSetX(hoClamp(hoX, 0, max));\r\n        }\r\n    };\r\n\r\n    hoApplyMode();\r\n\r\n    window.addEventListener('resize', () => {\r\n        hoApplyMode();\r\n\r\n        // clamp current values after resize\r\n        const max = hoMaxScroll();\r\n        hoX = hoClamp(hoX, 0, max);\r\n        hoTargetX = hoClamp(hoTargetX, 0, max);\r\n        hoSetX(hoX);\r\n    });\r\n});\r\n\r\ndocument.querySelectorAll('.reviews__annotation[data-words]').length\r\n"]}