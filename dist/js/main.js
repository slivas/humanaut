"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}document.addEventListener("DOMContentLoaded",(function(){var e=function(){return window.innerWidth<=1023},t=document.querySelectorAll(".modal-trigger"),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".modal.is-open").forEach((function(t){e&&t===e||t.classList.remove("is-open")})),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")},i=function(e){e.classList.add("is-open"),document.body.classList.add("modal-open")},r=function(e){e.classList.remove("is-open"),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")};t.forEach((function(t){var o=t.dataset.modal,a=document.getElementById(o);if(a){var s=a.querySelector(".modal-close");t.addEventListener("click",(function(t){e()&&(t.preventDefault(),t.stopPropagation(),a.classList.contains("is-open")?r(a):(n(a),i(a)))})),t.addEventListener("mouseenter",(function(){e()||i(a)})),t.addEventListener("mouseleave",(function(){e()||r(a)})),a.addEventListener("mouseenter",(function(){e()||i(a)})),a.addEventListener("mouseleave",(function(){e()||r(a)})),null==s||s.addEventListener("click",(function(e){e.stopPropagation(),r(a)}))}})),document.addEventListener("click",(function(t){if(e()){var i=document.querySelector(".modal.is-open");if(i){var r=i.querySelector(".modal-inner");r&&(r.contains(t.target)||t.target.closest(".modal-trigger")||n())}}})),window.addEventListener("resize",n);var o=document.querySelector(".implementation");if(o){var a=o.querySelector(".implementation__inner");if(a){var s=o.querySelector(".implementation__nav-btn.next"),l=o.querySelector(".implementation__nav-btn.prev"),c=o.querySelector(".implementation__item-num span"),u=!1,d=!1,m=0,f=!1,v=null,p=function(e,t,n){return Math.min(Math.max(e,t),n)},h=function(){var e=a.className.match(/item-(\d+)-active/),t=e?parseInt(e[1],10):1;return p(t,1,5)},y=function(e){for(var t=p(e,1,5),n=1;n<=5;n++)a.classList.remove("item-".concat(n,"-active"));a.classList.add("item-".concat(t,"-active")),c&&(c.textContent=String(t).padStart(2,"0")),l&&(l.disabled=1===t),s&&(s.disabled=5===t)},g=function(e){return y(h()+e)},_=function(){m=0,f=!1,v&&(clearTimeout(v),v=null)};null==s||s.addEventListener("click",(function(e){e.preventDefault(),g(1)})),null==l||l.addEventListener("click",(function(e){e.preventDefault(),g(-1)}));var b=0,L=0;o.addEventListener("touchstart",(function(t){if(e()){var n=t.touches[0];b=n.clientX,L=n.clientY}}),{passive:!0}),o.addEventListener("touchend",(function(t){if(e()){var n=t.changedTouches[0],i=n.clientX-b,r=n.clientY-L;Math.abs(i)<40||Math.abs(r)>.6*Math.abs(i)||g(i<0?1:-1)}}),{passive:!0}),new IntersectionObserver((function(e){var t=e[0];d=t.isIntersecting&&t.intersectionRatio>=.55,(!t.isIntersecting||t.intersectionRatio<.2)&&_()}),{threshold:[0,.2,.55,1]}).observe(o);window.addEventListener("wheel",(function(t){var n,i,r,a,s;if(!e())if(n=o.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,r=n.top+n.height/2,a=i/2,s=.18*i,u=Math.abs(r-a)<=s,d&&u){var l=function(e){return p(e,-90,90)}(t.deltaY),c=h();if(1===c&&l<0||5===c&&l>0)_();else if(t.preventDefault(),v&&clearTimeout(v),v=setTimeout((function(){f=!1,m=0,v=null}),160),!f){var y=(m+=l)>=90?1:m<=-90?-1:0;y&&(g(y),f=!0,m=0)}}else _()}),{passive:!1}),y(h()),window.addEventListener("resize",(function(){_()}));var x=document.querySelector(".about__list");if(x){var w=function(){return _toConsumableArray(x.querySelectorAll(".about__list-item"))},E=w();x.addEventListener("click",(function(t){if(e()){var n=t.target.closest(".about__list-item--btn");if(!n)return;var i=n.closest(".about__list-item");if(!i)return;var r=i.querySelector(".about__list-item--description");if(!r)return;n.classList.toggle("is-open");var o=n.classList.contains("is-open");return o?pe(r):ve(r),void(n.textContent=o?"Read less":"Read more")}var a=t.target.closest(".about__list-item--img");if(a){var s=a.closest(".about__list-item");if(s){var l=w(),c=l.indexOf(s),u=s.classList.contains("is-active");ye(x,u?function(){he(),E.forEach((function(e){return x.appendChild(e)}))}:function(){he(),x.prepend(s),s.classList.add("is-active"),l.forEach((function(e,t){e!==s&&(t<c?e.classList.add("is-left"):e.classList.add("is-right"))})),x.classList.add("is-expanded")},520)}}})),w().forEach((function(t){var n=t.querySelector(".about__list-item--description");n&&n.addEventListener("transitionend",(function(t){"max-height"===t.propertyName&&e()&&(n.classList.contains("is-collapsed")||(n.style.maxHeight="none"))}))}));var S=e()?"mobile":"desktop";ge(),window.addEventListener("resize",(function(){(e()?"mobile":"desktop")!==S&&ge()}));var q=document.querySelector(".logo-line");if(q){var A=q.querySelector(".logo-line__viewport"),H=q.querySelector(".logo-line__track"),C=q.querySelector(".logo-line__list");if(A&&H&&C){var k=H.querySelector('.logo-line__list[data-clone="1"]');k||((k=C.cloneNode(!0)).setAttribute("data-clone","1"),H.appendChild(k));var T=function(){var e=C.getBoundingClientRect().width;e&&(q.style.setProperty("--marquee-distance","".concat(e,"px")),q.style.setProperty("--marquee-duration","".concat(e/80,"s")))},R=_toConsumableArray(q.querySelectorAll("img"));Promise.all(R.map((function(e){return e.complete?Promise.resolve():new Promise((function(t){e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))}))).then(T);var M=new ResizeObserver((function(){clearTimeout(T._t),T._t=setTimeout(T,120)}));M.observe(A),M.observe(C),window.addEventListener("resize",(function(){clearTimeout(T._t),T._t=setTimeout(T,150)})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.closest(".how-it-works"),n=_toConsumableArray(e.querySelectorAll("[data-tab]")),i=_toConsumableArray(e.querySelectorAll("[data-tab-target]"));if(n.length&&i.length){var r=parseInt(e.dataset.interval,10)||4e3,o=n.map((function(e){return e.dataset.tab})),a=Math.max(0,n.findIndex((function(e){return e.classList.contains("is-active")})));-1===a&&(a=0);var s=null,l=function(e){n.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tab===e)})),i.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tabTarget===e)})),function(e){t&&(t.className=t.className.split(" ").filter((function(e){return!e.startsWith("how-it-works--")})).join(" "),t.classList.add("how-it-works--".concat(e)))}(e),a=o.indexOf(e)},c=function(){var e=(a+1)%o.length;l(o[e])},u=function(){d(),s=setInterval(c,r)},d=function(){s&&(clearInterval(s),s=null)};n.forEach((function(e){e.addEventListener("click",(function(){l(e.dataset.tab),u()}))})),l(o[a]),u(),document.addEventListener("visibilitychange",(function(){document.hidden?d():u()}))}}));var I=document.querySelector(".cta");if(I){var B=I.querySelector(".cta__bg");if(B){var N=120,z=!1,F=function(){N=window.innerWidth>=1024?280:150};F();var P=function(){var e=I.getBoundingClientRect(),t=window.innerHeight;if(e.bottom>0&&e.top<t){var n=(t-e.top)/(t+e.height),i=(Math.min(Math.max(n,0),1)-.5)*N*2;B.style.transform="translate3d(0, ".concat(i,"px, 0)"),z=!1}else z=!1},O=function(){z||(z=!0,requestAnimationFrame(P))};window.addEventListener("scroll",O,{passive:!0}),window.addEventListener("resize",(function(){F(),O()})),O();var W=document.querySelector(".accordion");W.addEventListener("click",(function(e){var t=e.target.closest(".acc-trigger");if(t){var n=t.parentElement,i=t.nextElementSibling,r=n.classList.contains("is-open");W.querySelectorAll(".acc-item.is-open").forEach((function(e){var t=e.querySelector(".acc-panel");e!==n&&_e(t,e)})),r?_e(i,n):function(e,t){t.classList.add("is-open"),e.style.height=e.getBoundingClientRect().height+"px",requestAnimationFrame((function(){e.style.height=e.scrollHeight+"px"}));var n=function(t){"height"===t.propertyName&&(e.removeEventListener("transitionend",n),e.style.height="auto")};e.addEventListener("transitionend",n)}(i,n)}})),document.querySelectorAll(".acc-item.is-open .acc-panel").forEach((function(e){return e.style.height="auto"})),document.querySelectorAll(".reviews__list-text[data-words]").forEach((function(e){var t=parseInt(e.dataset.words,10);if(t){var n=e.querySelector("p");if(n){var i=(n.textContent||"").trim(),r=i.split(/\s+/);if(!(r.length<=t)){var o=r.slice(0,t).join(" ")+"…",a=document.createElement("div");a.className="reviews__list-text-inner",e.insertBefore(a,n),a.appendChild(n);var s=document.createElement("button");s.type="button",s.className="reviews__read-more",e.appendChild(s);var l=!1,c=function(){return s.textContent=l?"Read less":"Read more"},u=function(){n.textContent=i,a.style.maxHeight="0px",a.getBoundingClientRect(),a.style.maxHeight=a.scrollHeight+"px"},d=function(){a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect(),n.textContent=o,a.style.maxHeight=a.scrollHeight+"px"};a.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&l&&(a.style.maxHeight="none")})),s.addEventListener("click",(function(){l=!l,c(),l?u():("none"===a.style.maxHeight&&(a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect()),d())})),n.textContent=o,c(),a.style.maxHeight=a.scrollHeight+"px",new ResizeObserver((function(){l||(a.style.maxHeight=a.scrollHeight+"px")})).observe(e)}}}}));var D=document.querySelector(".reviews__annotation[data-words]");if(D){var j=parseInt(D.dataset.words,10);if(j){var Y=D.innerHTML,X=D.textContent.trim().replace(/\s+/g," ").split(" ");if(!(X.length<=j)){var U=X.slice(0,j).join(" ")+"…",$=document.createElement("div");$.className="reviews__annotation-inner",$.innerHTML="<p>".concat(U,"</p>");var G=document.createElement("button");G.type="button",G.className="reviews__annotation-toggle";var J=!1,K=function(){G.textContent=J?"Show less":"Learn more"},Q=function(){$.style.maxHeight=$.scrollHeight+"px"};$.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&J&&($.style.maxHeight="none")})),G.addEventListener("click",(function(){J=!J,K(),J?($.innerHTML=Y,$.style.maxHeight="0px",$.getBoundingClientRect(),Q()):("none"===$.style.maxHeight&&($.style.maxHeight=$.scrollHeight+"px",$.getBoundingClientRect()),$.innerHTML="<p>".concat(U,"</p>"),Q())})),D.innerHTML="",D.appendChild($),D.appendChild(G),K(),Q(),new ResizeObserver((function(){J||Q()})).observe(D);var V=document.querySelector(".health-optimization__list");if(V){var Z=V.querySelector(".health-optimization__track");if(Z){var ee=0,te=1,ne=null,ie=null,re=0,oe=null,ae=function(){var e=V.clientWidth,t=Z.scrollWidth;return Math.max(0,t-e)},se=function(e,t,n){return Math.max(t,Math.min(e,n))},le=function(e){ee=e,Z.style.transform="translate3d(".concat(-ee,"px, 0, 0)")},ce=function(){ne&&cancelAnimationFrame(ne),ne=null},ue=null,de=null;window.addEventListener("mousemove",(function(e){ue=e.clientX,de=e.clientY}),{passive:!0});var me=function(e){if("desktop"===ie&&function(){if(null===ue||null===de)return!1;var e=document.elementFromPoint(ue,de);return!!e&&V.contains(e)}()){var t=ae();if(!(t<=0)){var n=e.deltaY;re<=0&&n<0||re>=t&&n>0||(e.preventDefault(),re=se(re+=.9*n,0,t),function(){if(!oe){var e=function(){var t=ae(),n=(re=se(re,0,t))-ee;if(Math.abs(n)<.25)return le(re),void(oe=null);le(ee+.12*n),oe=requestAnimationFrame(e)};oe=requestAnimationFrame(e)}}())}}},fe=function(){var e=window.innerWidth<=1023?"mobile":"desktop";if(e!==ie){ie=e,ce(),oe&&cancelAnimationFrame(oe),oe=null;var t=ae();ee=0,re=0,te=1,le(0),"mobile"===ie?(window.removeEventListener("wheel",me),function(){ce();var e=function(){var t=ae();t<=0||((ee+=.35*te)>=t?(ee=t,te=-1):ee<=0&&(ee=0,te=1),le(ee)),ne=requestAnimationFrame(e)};ne=requestAnimationFrame(e)}()):(window.addEventListener("wheel",me,{passive:!1}),le(se(ee,0,t)))}};fe(),window.addEventListener("resize",(function(){fe();var e=ae();ee=se(ee,0,e),re=se(re,0,e),le(ee)}))}}}}}}}}}}}}function ve(e){e.classList.add("is-collapsed"),e.style.maxHeight="0px"}function pe(e){e.classList.remove("is-collapsed"),e.style.maxHeight=e.scrollHeight+"px"}function he(){x.classList.remove("is-expanded"),w().forEach((function(e){return e.classList.remove("is-active","is-left","is-right")}))}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:520,i=Array.from(e.children),r=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));t(),e.getBoundingClientRect();var o=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));return i.forEach((function(e){var t=r.get(e),n=o.get(e);if(t&&n){var i=t.left-n.left,a=t.top-n.top;(i||a)&&(e.style.transform="translate(".concat(i,"px, ").concat(a,"px)"),e.style.transition="transform 0s")}})),requestAnimationFrame((function(){i.forEach((function(e){e.style.transform&&(e.style.transition="transform ".concat(n,"ms ease"),e.style.transform="")}))})),setTimeout((function(){i.forEach((function(e){e.style.transition="",e.style.transform=""}))}),n+60),n}function ge(){var t=e()?"mobile":"desktop";"mobile"===t?(he(),w().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");if(t&&n){n.style.display="inline-block";var i=n.classList.contains("is-open");i?pe(t):ve(t),n.textContent=i?"Read less":"Read more"}}))):(w().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");t&&function(e){e.classList.remove("is-collapsed"),e.style.removeProperty("max-height")}(t),n&&(n.style.display="none",n.classList.remove("is-open"),n.textContent="")})),he(),E.forEach((function(e){return x.appendChild(e)}))),S=t}function _e(e,t){t.classList.remove("is-open"),e.style.height=e.scrollHeight+"px",requestAnimationFrame((function(){e.style.height="0px"}))}})),document.querySelectorAll(".reviews__annotation[data-words]").length;//# sourceMappingURL=main.js.map
