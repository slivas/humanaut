{"version":3,"sources":["main.js"],"names":["_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","e","n","document","addEventListener","isMobile","window","innerWidth","triggers","querySelectorAll","closeAllModals","exceptModal","arguments","undefined","forEach","modal","classList","remove","querySelector","body","openModal","add","closeModal","trigger","modalId","dataset","getElementById","closeBtn","preventDefault","stopPropagation","contains","openModalEl","content","target","closest","section","inner","btnNext","btnPrev","itemNumEl","currentIndex","isSticky","wheelAccum","canChangeSlide","getActiveIndex","m","className","match","parseInt","setActiveIndex","index","Math","max","min","i","concat","textContent","String","padStart","disabled","changeSlide","dir","newIndex","setTimeout","touchStartX","touches","clientX","passive","dx","changedTouches","abs","IntersectionObserver","entries","rect","boundingClientRect","top","threshold","rootMargin","observe","getBoundingClientRect","isAtTop","isNearTop","isForward","deltaY","isBackward","canGoForward","canGoBackward","targetY","scrollY","scrollTo","behavior","list","getItems","initialOrder","btn","li","desc","toggle","nowOpen","openDesc","closeDesc","img","activeItem","itemsBefore","activeIndex","indexOf","wasActive","flipAnimate","resetDesktopClasses","el","appendChild","prepend","item","ev","propertyName","style","maxHeight","lastMode","init","root","viewport","track","logoList","clone","cloneNode","setAttribute","measure","distance","width","setProperty","imgs","Promise","all","map","complete","resolve","res","once","then","ro","ResizeObserver","clearTimeout","_t","tabs","buttons","panels","interval","order","tab","findIndex","timer","activateByName","panel","tabTarget","split","filter","cls","startsWith","join","setBackgroundClass","next","nextIndex","start","stop","setInterval","clearInterval","hidden","ctaSection","ctaBg","MAX_OFFSET_PX","isTicking","applySettings","updateParallax","vh","innerHeight","bottom","progress","height","translateY","transform","requestUpdate","requestAnimationFrame","accordion","parentElement","nextElementSibling","isOpen","other","otherPanel","close","scrollHeight","onEnd","removeEventListener","open","p","block","wordsLimit","words","fullText","trim","shortText","createElement","insertBefore","type","setBtn","annotationRoot","annotationLimit","annotationFullHTML","innerHTML","annotationWords","replace","annotationShortText","annotationInner","annotationToggle","annotationIsOpen","annotationSetButton","annotationSetMaxHeight","hoViewport","hoTrack","hoX","hoDir","hoRafId","hoMode","hoTargetX","hoEaseRafId","hoMaxScroll","vw","clientWidth","tw","scrollWidth","hoClamp","val","hoSetX","hoStopAuto","cancelAnimationFrame","hoPointerX","hoPointerY","clientY","hoOnWheel","elementFromPoint","hoIsPointerOverViewport","delta","step","diff","hoStartEase","hoApplyMode","nextMode","hoTick","hoStartAuto","container","mutate","duration","els","children","first","Map","last","f","get","l","left","dy","transition","mode","display","removeProperty","resetDesktop"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  /*Mobile settings*/\n  const MOBILE_BREAKPOINT = 1023;\n  const isMobile = () => window.innerWidth <= MOBILE_BREAKPOINT;\n\n  /*Implementation modal*/\n\n  const triggers = document.querySelectorAll('.modal-trigger');\n\n  const closeAllModals = (exceptModal = null) => {\n    document.querySelectorAll('.modal.is-open').forEach((modal) => {\n      if (exceptModal && modal === exceptModal) return;\n      modal.classList.remove('is-open');\n    });\n\n    if (!document.querySelector('.modal.is-open')) {\n      document.body.classList.remove('modal-open');\n    }\n  };\n\n  const openModal = (modal) => {\n    modal.classList.add('is-open');\n    document.body.classList.add('modal-open');\n  };\n\n  const closeModal = (modal) => {\n    modal.classList.remove('is-open');\n\n    if (!document.querySelector('.modal.is-open')) {\n      document.body.classList.remove('modal-open');\n    }\n  };\n\n  triggers.forEach((trigger) => {\n    const modalId = trigger.dataset.modal;\n    const modal = document.getElementById(modalId);\n    if (!modal) return;\n\n    const closeBtn = modal.querySelector('.modal-close');\n\n    trigger.addEventListener('click', (e) => {\n      if (!isMobile()) return;\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (modal.classList.contains('is-open')) {\n        closeModal(modal);\n        return;\n      }\n\n      closeAllModals(modal);\n      openModal(modal);\n    });\n\n    trigger.addEventListener('mouseenter', () => {\n      if (isMobile()) return;\n      openModal(modal);\n    });\n\n    trigger.addEventListener('mouseleave', () => {\n      if (isMobile()) return;\n      closeModal(modal);\n    });\n\n    modal.addEventListener('mouseenter', () => {\n      if (isMobile()) return;\n      openModal(modal);\n    });\n\n    modal.addEventListener('mouseleave', () => {\n      if (isMobile()) return;\n      closeModal(modal);\n    });\n\n    closeBtn?.addEventListener('click', (e) => {\n      e.stopPropagation();\n      closeModal(modal);\n    });\n  });\n\n  document.addEventListener('click', (e) => {\n    if (!isMobile()) return;\n\n    const openModalEl = document.querySelector('.modal.is-open');\n    if (!openModalEl) return;\n\n    const content = openModalEl.querySelector('.modal-inner');\n    if (!content) return;\n\n    if (!content.contains(e.target) && !e.target.closest('.modal-trigger')) {\n      closeAllModals();\n    }\n  });\n\n  window.addEventListener('resize', closeAllModals);\n\n  /*Implementation slider*/\n  const section = document.querySelector('.implementation');\n  if (!section) return;\n\n  const inner = section.querySelector('.implementation__inner');\n  if (!inner) return;\n\n  const btnNext = section.querySelector('.implementation__nav-btn.next');\n  const btnPrev = section.querySelector('.implementation__nav-btn.prev');\n  const itemNumEl = section.querySelector('.implementation__item-num span');\n\n  const MAX_ITEMS = 5;\n  let currentIndex = 1;\n  let isSticky = false;\n  let wheelAccum = 0;\n  let canChangeSlide = true; // Cooldown flag\n  const WHEEL_THRESHOLD = 30; // Lower threshold for more responsive slide changes\n  const SLIDE_COOLDOWN_MS = 200; // Cooldown after slide change\n\n  // Get current slide index\n  const getActiveIndex = () => {\n    const m = inner.className.match(/item-(\\d+)-active/);\n    return m ? parseInt(m[1], 10) : 1;\n  };\n\n  // Update slide\n  const setActiveIndex = (index) => {\n    currentIndex = Math.max(1, Math.min(index, MAX_ITEMS));\n\n    for (let i = 1; i <= MAX_ITEMS; i++) {\n      inner.classList.remove(`item-${i}-active`);\n    }\n    inner.classList.add(`item-${currentIndex}-active`);\n\n    if (itemNumEl) itemNumEl.textContent = String(currentIndex).padStart(2, '0');\n    if (btnPrev) btnPrev.disabled = currentIndex === 1;\n    if (btnNext) btnNext.disabled = currentIndex === MAX_ITEMS;\n\n    // On last slide, remove sticky to allow scrolling past\n    if (currentIndex === MAX_ITEMS) {\n      section.classList.add('allow-scroll-past');\n    } else {\n      section.classList.remove('allow-scroll-past');\n    }\n  };\n\n  // Change slide\n  const changeSlide = (dir) => {\n    if (!canChangeSlide) return false; // Block if in cooldown\n\n    const newIndex = currentIndex + dir;\n    if (newIndex >= 1 && newIndex <= MAX_ITEMS) {\n      setActiveIndex(newIndex);\n\n      // Start cooldown\n      canChangeSlide = false;\n      setTimeout(() => {\n        canChangeSlide = true;\n      }, SLIDE_COOLDOWN_MS);\n\n      return true;\n    }\n    return false;\n  };\n\n  // Buttons\n  btnNext?.addEventListener('click', () => changeSlide(+1));\n  btnPrev?.addEventListener('click', () => changeSlide(-1));\n\n  // Mobile swipe\n  let touchStartX = 0;\n  section.addEventListener(\n    'touchstart',\n    (e) => {\n      if (!isMobile()) return;\n      touchStartX = e.touches[0].clientX;\n    },\n    { passive: true },\n  );\n\n  section.addEventListener(\n    'touchend',\n    (e) => {\n      if (!isMobile()) return;\n      const dx = e.changedTouches[0].clientX - touchStartX;\n      if (Math.abs(dx) > 50) {\n        changeSlide(dx < 0 ? +1 : -1);\n      }\n    },\n    { passive: true },\n  );\n\n  // IntersectionObserver: detect when section is at top (sticky)\n  const observer = new IntersectionObserver(\n    (entries) => {\n      const entry = entries[0];\n      const rect = entry.boundingClientRect;\n      // Update currentIndex from DOM\n      currentIndex = getActiveIndex();\n      // Section is sticky when at top (for both forward and backward navigation)\n      isSticky = rect.top <= 5 && rect.top >= -5;\n    },\n    {\n      threshold: 0,\n      rootMargin: '0px',\n    },\n  );\n  observer.observe(section);\n\n  // Wheel handler: simple and clean\n  const handleWheel = (e) => {\n    if (isMobile()) return;\n\n    const rect = section.getBoundingClientRect();\n    // More lenient detection for backwards scrolling - check if section is near top\n    const isAtTop = rect.top <= 10 && rect.top >= -10;\n    const isNearTop = rect.top <= 50 && rect.top >= -50; // Wider range for catching\n\n    // Update currentIndex\n    currentIndex = getActiveIndex();\n    \n    // Update isSticky based on current position\n    isSticky = isAtTop;\n\n    // Check if we should handle this (section is sticky and at top)\n    // Forward: allow on slides 1-4 (not on last slide)\n    // Backward: allow on slides 2-5 (not on first slide)\n    const isForward = e.deltaY > 0;\n    const isBackward = e.deltaY < 0;\n    const canGoForward = currentIndex < MAX_ITEMS;\n    const canGoBackward = currentIndex > 1;\n\n    // For backwards scrolling, if section is near top, snap it to top first\n    if (isBackward && canGoBackward && isNearTop && !isAtTop) {\n      // Snap section to top when scrolling backwards\n      const scrollY = window.scrollY;\n      const targetY = scrollY + rect.top;\n      window.scrollTo({ top: targetY, behavior: 'auto' });\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    // Always prevent scroll when section is at top (to keep it locked)\n    // Only allow normal scroll on boundaries:\n    // - First slide scrolling up (allow normal scroll)\n    // - Last slide scrolling down (allow normal scroll)\n    const shouldPreventScroll =\n      isAtTop && !((currentIndex === 1 && isBackward) || (currentIndex === MAX_ITEMS && isForward));\n\n    if (shouldPreventScroll) {\n      // Prevent page scroll to keep section locked\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Check if we can navigate in this direction\n      const canNavigate = (isForward && canGoForward) || (isBackward && canGoBackward);\n\n      if (canNavigate) {\n        // If in cooldown, don't accumulate or change slides\n        if (!canChangeSlide) {\n          wheelAccum = 0; // Reset accumulation during cooldown\n          return;\n        }\n\n        // Accumulate wheel delta\n        wheelAccum += e.deltaY;\n\n        // Change slide when threshold reached\n        if (wheelAccum >= WHEEL_THRESHOLD) {\n          // Forward (scroll down)\n          if (changeSlide(+1)) {\n            wheelAccum = 0;\n          } else {\n            wheelAccum = 0; // Reset if at boundary\n          }\n        } else if (wheelAccum <= -WHEEL_THRESHOLD) {\n          // Backward (scroll up)\n          if (changeSlide(-1)) {\n            wheelAccum = 0;\n          } else {\n            wheelAccum = 0; // Reset if at boundary\n          }\n        }\n      } else {\n        // Can't navigate in this direction, but still prevent scroll to keep locked\n        wheelAccum = 0; // Reset accumulation\n      }\n    }\n  };\n\n  // Also prevent scroll events when sticky\n  const handleScroll = (e) => {\n    if (isMobile()) return;\n\n    const rect = section.getBoundingClientRect();\n    const isAtTop = rect.top <= 5 && rect.top >= -5;\n    const isNearTop = rect.top <= 50 && rect.top >= -50;\n    currentIndex = getActiveIndex();\n    \n    // Update isSticky\n    isSticky = isAtTop;\n\n    // If section is near top but not exactly at top, snap it to top\n    // This helps catch backwards scrolling\n    if (isNearTop && !isAtTop && currentIndex > 1) {\n      const scrollY = window.scrollY;\n      const targetY = scrollY + rect.top;\n      window.scrollTo({ top: targetY, behavior: 'auto' });\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    // Prevent scroll when sticky and at top (for both forward and backward)\n    // Only allow scroll past on boundaries\n    if (isSticky && isAtTop) {\n      // On last slide scrolling down, allow scrolling past\n      if (currentIndex === MAX_ITEMS) {\n        return; // Allow normal scroll\n      }\n      \n      // On first slide, we'll allow scroll past in wheel handler\n      // But here we keep it locked\n      e.preventDefault();\n      e.stopPropagation();\n      // Restore scroll position to keep section at top\n      const scrollY = window.scrollY;\n      const targetY = scrollY + rect.top;\n      if (Math.abs(rect.top) > 1) {\n        window.scrollTo({ top: targetY, behavior: 'auto' });\n      }\n    }\n  };\n\n  window.addEventListener('wheel', handleWheel, { passive: false });\n  window.addEventListener('scroll', handleScroll, { passive: false });\n\n  // Initialize\n  setActiveIndex(getActiveIndex());\n\n  /*Show more / less*/\n  const list = document.querySelector('.about__list');\n  if (!list) return;\n\n  // ‚úÖ –∞–∫—Ç—É–∞–ª—å–Ω—ñ items\n  const getItems = () => [...list.querySelectorAll('.about__list-item')];\n\n  // ‚úÖ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π DOM-–ø–æ—Ä—è–¥–æ–∫, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ –≤—ñ–¥–∫–æ—Ç–∏—Ç–∏—Å—å\n  const initialOrder = getItems();\n\n  // ===== Mobile helpers =====\n  function closeDesc(desc) {\n    desc.classList.add('is-collapsed');\n    desc.style.maxHeight = '0px';\n  }\n\n  function openDesc(desc) {\n    desc.classList.remove('is-collapsed');\n    desc.style.maxHeight = desc.scrollHeight + 'px';\n  }\n\n  function resetDesktop(desc) {\n    desc.classList.remove('is-collapsed');\n    desc.style.removeProperty('max-height');\n  }\n\n  // ===== Reset states =====\n  function resetDesktopClasses() {\n    list.classList.remove('is-expanded');\n    getItems().forEach((li) => li.classList.remove('is-active', 'is-left', 'is-right'));\n  }\n\n  function applyMobileState() {\n    resetDesktopClasses();\n\n    getItems().forEach((li) => {\n      const desc = li.querySelector('.about__list-item--description');\n      const btn = li.querySelector('.about__list-item--btn');\n      if (!desc || !btn) return;\n\n      btn.style.display = 'inline-block';\n\n      const isOpen = btn.classList.contains('is-open');\n      isOpen ? openDesc(desc) : closeDesc(desc);\n\n      btn.textContent = isOpen ? 'Read less' : 'Read more';\n    });\n  }\n\n  function applyDesktopState() {\n    getItems().forEach((li) => {\n      const desc = li.querySelector('.about__list-item--description');\n      const btn = li.querySelector('.about__list-item--btn');\n\n      if (desc) resetDesktop(desc);\n\n      if (btn) {\n        btn.style.display = 'none';\n        btn.classList.remove('is-open');\n        btn.textContent = '';\n      }\n    });\n\n    resetDesktopClasses();\n\n    // ‚úÖ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø\n    initialOrder.forEach((el) => list.appendChild(el));\n  }\n\n  // ===== FLIP =====\n  function flipAnimate(container, mutate, duration = 520) {\n    const els = Array.from(container.children);\n\n    const first = new Map(els.map((el) => [el, el.getBoundingClientRect()]));\n\n    mutate();\n\n    container.getBoundingClientRect(); // force layout\n\n    const last = new Map(els.map((el) => [el, el.getBoundingClientRect()]));\n\n    els.forEach((el) => {\n      const f = first.get(el);\n      const l = last.get(el);\n      if (!f || !l) return;\n\n      const dx = f.left - l.left;\n      const dy = f.top - l.top;\n\n      if (dx || dy) {\n        el.style.transform = `translate(${dx}px, ${dy}px)`;\n        el.style.transition = 'transform 0s';\n      }\n    });\n\n    requestAnimationFrame(() => {\n      els.forEach((el) => {\n        if (el.style.transform) {\n          el.style.transition = `transform ${duration}ms ease`;\n          el.style.transform = '';\n        }\n      });\n    });\n\n    setTimeout(() => {\n      els.forEach((el) => {\n        el.style.transition = '';\n        el.style.transform = '';\n      });\n    }, duration + 60);\n\n    return duration;\n  }\n\n  // ===== Desktop click =====\n  list.addEventListener('click', (e) => {\n    // ===== MOBILE =====\n    if (isMobile()) {\n      const btn = e.target.closest('.about__list-item--btn');\n      if (!btn) return;\n\n      const li = btn.closest('.about__list-item');\n      if (!li) return;\n\n      const desc = li.querySelector('.about__list-item--description');\n      if (!desc) return;\n\n      btn.classList.toggle('is-open');\n      const nowOpen = btn.classList.contains('is-open');\n\n      nowOpen ? openDesc(desc) : closeDesc(desc);\n      btn.textContent = nowOpen ? 'Read less' : 'Read more';\n      return;\n    }\n\n    // ===== DESKTOP =====\n    const img = e.target.closest('.about__list-item--img');\n    if (!img) return;\n\n    const activeItem = img.closest('.about__list-item');\n    if (!activeItem) return;\n\n    const itemsBefore = getItems(); // DOM –ø–æ—Ä—è–¥–æ–∫ –î–û –∑–º—ñ–Ω\n    const activeIndex = itemsBefore.indexOf(activeItem);\n    const wasActive = activeItem.classList.contains('is-active');\n\n    // toggle OFF: –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ—Ä—è–¥–æ–∫ + –∑–Ω—ñ–º–∞—î–º–æ –∫–ª–∞—Å–∏ (–ø–ª–∞–≤–Ω–æ —á–µ—Ä–µ–∑ FLIP)\n    if (wasActive) {\n      flipAnimate(\n        list,\n        () => {\n          resetDesktopClasses();\n          initialOrder.forEach((el) => list.appendChild(el));\n        },\n        520,\n      );\n      return;\n    }\n\n    // toggle ON: –∞–∫—Ç–∏–≤–Ω–∏–π —Å—Ç–∞—î –ø–µ—Ä—à–∏–º, —ñ–Ω—à—ñ —Ä–æ–∑'—ó–∂–¥–∂–∞—é—Ç—å—Å—è\n    flipAnimate(\n      list,\n      () => {\n        // reset\n        resetDesktopClasses();\n\n        // 1) –∞–∫—Ç–∏–≤–Ω–∏–π –Ω–∞ –ø–µ—Ä—à–µ –º—ñ—Å—Ü–µ\n        list.prepend(activeItem);\n\n        // 2) –∞–∫—Ç–∏–≤–Ω–∏–π –∫–ª–∞—Å\n        activeItem.classList.add('is-active');\n\n        // 3) —Ö—Ç–æ –±—É–≤ –î–û –∞–∫—Ç–∏–≤–Ω–æ–≥–æ -> –≤–ª—ñ–≤–æ, —Ö—Ç–æ –ü–Ü–°–õ–Ø -> –≤–ø—Ä–∞–≤–æ\n        itemsBefore.forEach((item, i) => {\n          if (item === activeItem) return;\n          if (i < activeIndex) item.classList.add('is-left');\n          else item.classList.add('is-right');\n        });\n\n        // 4) –≤–º–∏–∫–∞—î–º–æ —Ä–æ–∑'—ó–∑–¥ (CSS —Ä–æ–±–∏—Ç—å translateX –¥–ª—è left/right)\n        list.classList.add('is-expanded');\n      },\n      520,\n    );\n  });\n\n  // ===== transitionend —Ç—ñ–ª—å–∫–∏ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –æ–ø–∏—Å—É =====\n  getItems().forEach((li) => {\n    const desc = li.querySelector('.about__list-item--description');\n    if (!desc) return;\n\n    desc.addEventListener('transitionend', (ev) => {\n      if (ev.propertyName !== 'max-height') return;\n      if (!isMobile()) return;\n\n      if (!desc.classList.contains('is-collapsed')) {\n        desc.style.maxHeight = 'none';\n      }\n    });\n  });\n\n  // ===== Init + resize =====\n  let lastMode = isMobile() ? 'mobile' : 'desktop';\n\n  function init() {\n    const mode = isMobile() ? 'mobile' : 'desktop';\n    mode === 'mobile' ? applyMobileState() : applyDesktopState();\n    lastMode = mode;\n  }\n\n  init();\n\n  window.addEventListener('resize', () => {\n    const mode = isMobile() ? 'mobile' : 'desktop';\n    if (mode === lastMode) return;\n    init();\n  });\n\n  /*Logo line*/\n  const root = document.querySelector('.logo-line');\n  if (!root) return;\n\n  const viewport = root.querySelector('.logo-line__viewport');\n  const track = root.querySelector('.logo-line__track');\n  const logoList = root.querySelector('.logo-line__list');\n  if (!viewport || !track || !logoList) return;\n\n  const SPEED = 80; // px/sec\n  let clone = track.querySelector('.logo-line__list[data-clone=\"1\"]');\n\n  // —Å—Ç–≤–æ—Ä—é—î–º–æ –∫–ª–æ–Ω –æ–¥–∏–Ω —Ä–∞–∑\n  if (!clone) {\n    clone = logoList.cloneNode(true);\n    clone.setAttribute('data-clone', '1');\n    track.appendChild(clone);\n  }\n\n  const measure = () => {\n    const distance = logoList.getBoundingClientRect().width;\n    if (!distance) return;\n\n    root.style.setProperty('--marquee-distance', `${distance}px`);\n    root.style.setProperty('--marquee-duration', `${distance / SPEED}s`);\n  };\n\n  // —á–µ–∫–∞—î–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ª–æ–≥–æ—Ç–∏–ø—ñ–≤\n  const imgs = [...root.querySelectorAll('img')];\n  const waitImages = Promise.all(\n    imgs.map((img) =>\n      img.complete\n        ? Promise.resolve()\n        : new Promise((res) => {\n            img.addEventListener('load', res, { once: true });\n            img.addEventListener('error', res, { once: true });\n          }),\n    ),\n  );\n\n  waitImages.then(measure);\n\n  // —è–∫—â–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —à–∏—Ä–∏–Ω–∞ (resize / responsive)\n  const ro = new ResizeObserver(() => {\n    clearTimeout(measure._t);\n    measure._t = setTimeout(measure, 120);\n  });\n\n  ro.observe(viewport);\n  ro.observe(logoList);\n\n  window.addEventListener('resize', () => {\n    clearTimeout(measure._t);\n    measure._t = setTimeout(measure, 150);\n  });\n\n  /*Tabs*/\n  document.querySelectorAll('.tabs').forEach((tabs) => {\n    const section = tabs.closest('.how-it-works'); // üëà —Å–µ–∫—Ü—ñ—è –∑ —Ñ–æ–Ω–æ–º\n    const buttons = [...tabs.querySelectorAll('[data-tab]')];\n    const panels = [...tabs.querySelectorAll('[data-tab-target]')];\n\n    if (!buttons.length || !panels.length) return;\n\n    const interval = parseInt(tabs.dataset.interval, 10) || 4000;\n\n    const order = buttons.map((btn) => btn.dataset.tab);\n\n    let currentIndex = Math.max(\n      0,\n      buttons.findIndex((btn) => btn.classList.contains('is-active')),\n    );\n    if (currentIndex === -1) currentIndex = 0;\n\n    let timer = null;\n\n    const setBackgroundClass = (name) => {\n      if (!section) return;\n\n      // –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –≤—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ how-it-works--*\n      section.className = section.className\n        .split(' ')\n        .filter((cls) => !cls.startsWith('how-it-works--'))\n        .join(' ');\n\n      // –¥–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π\n      section.classList.add(`how-it-works--${name}`);\n    };\n\n    const activateByName = (name) => {\n      buttons.forEach((btn) => btn.classList.toggle('is-active', btn.dataset.tab === name));\n\n      panels.forEach((panel) =>\n        panel.classList.toggle('is-active', panel.dataset.tabTarget === name),\n      );\n\n      setBackgroundClass(name);\n      currentIndex = order.indexOf(name);\n    };\n\n    const next = () => {\n      const nextIndex = (currentIndex + 1) % order.length;\n      activateByName(order[nextIndex]);\n    };\n\n    const start = () => {\n      stop();\n      timer = setInterval(next, interval);\n    };\n\n    const stop = () => {\n      if (timer) {\n        clearInterval(timer);\n        timer = null;\n      }\n    };\n\n    // –∫–ª—ñ–∫–∏ –ø–æ —Ç–∞–±–∞—Ö\n    buttons.forEach((btn) => {\n      btn.addEventListener('click', () => {\n        activateByName(btn.dataset.tab);\n        start(); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ü–∏–∫–ª—É\n      });\n    });\n\n    // init\n    activateByName(order[currentIndex]);\n    start();\n\n    // –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è: –Ω–µ –∫—Ä—É—Ç–∏—Ç–∏ —É –Ω–µ–∞–∫—Ç–∏–≤–Ω—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –±—Ä–∞—É–∑–µ—Ä–∞\n    document.addEventListener('visibilitychange', () => {\n      document.hidden ? stop() : start();\n    });\n  });\n\n  /*Parallax for CTA*/\n  const ctaSection = document.querySelector('.cta');\n  if (!ctaSection) return;\n\n  const ctaBg = ctaSection.querySelector('.cta__bg');\n  if (!ctaBg) return;\n\n  const DESKTOP_BREAKPOINT = 1024;\n\n  let MAX_OFFSET_PX = 120; // desktop default\n  let isTicking = false;\n  let isInView = true;\n\n  const applySettings = () => {\n    if (window.innerWidth >= DESKTOP_BREAKPOINT) {\n      // üñ• DESKTOP\n      MAX_OFFSET_PX = 280; // –º–æ–∂–µ—à –∑–±—ñ–ª—å—à–∏—Ç–∏ –¥–æ 160\n    } else {\n      // üì± MOBILE\n      MAX_OFFSET_PX = 150; // –∞–±–æ 0, —è–∫—â–æ –Ω–µ —Ö–æ—á–µ—à –ø–∞—Ä–∞–ª–∞–∫—Å –Ω–∞ –º–æ–±—ñ–ª—Ü—ñ\n    }\n  };\n\n  applySettings();\n\n  const updateParallax = () => {\n    const rect = ctaSection.getBoundingClientRect();\n    const vh = window.innerHeight;\n\n    isInView = rect.bottom > 0 && rect.top < vh;\n    if (!isInView) {\n      isTicking = false;\n      return;\n    }\n\n    const progress = (vh - rect.top) / (vh + rect.height);\n    const clamped = Math.min(Math.max(progress, 0), 1);\n\n    const translateY = (clamped - 0.5) * MAX_OFFSET_PX * 2;\n\n    ctaBg.style.transform = `translate3d(0, ${translateY}px, 0)`;\n\n    isTicking = false;\n  };\n\n  const requestUpdate = () => {\n    if (isTicking) return;\n    isTicking = true;\n    requestAnimationFrame(updateParallax);\n  };\n\n  window.addEventListener('scroll', requestUpdate, { passive: true });\n  window.addEventListener('resize', () => {\n    applySettings();\n    requestUpdate();\n  });\n\n  // —Å—Ç–∞—Ä—Ç\n  requestUpdate();\n\n  /* Accordion */\n  const accordion = document.querySelector('.accordion');\n\n  function open(panel, item) {\n    item.classList.add('is-open');\n    panel.style.height = panel.getBoundingClientRect().height + 'px';\n    requestAnimationFrame(() => {\n      panel.style.height = panel.scrollHeight + 'px';\n    });\n    const onEnd = (e) => {\n      if (e.propertyName !== 'height') return;\n      panel.removeEventListener('transitionend', onEnd);\n      panel.style.height = 'auto';\n    };\n    panel.addEventListener('transitionend', onEnd);\n  }\n\n  function close(panel, item) {\n    item.classList.remove('is-open');\n    panel.style.height = panel.scrollHeight + 'px';\n    requestAnimationFrame(() => {\n      panel.style.height = '0px';\n    });\n  }\n\n  accordion.addEventListener('click', (e) => {\n    const btn = e.target.closest('.acc-trigger');\n    if (!btn) return;\n\n    const item = btn.parentElement;\n    const panel = btn.nextElementSibling;\n    const isOpen = item.classList.contains('is-open');\n\n    accordion.querySelectorAll('.acc-item.is-open').forEach((other) => {\n      const otherPanel = other.querySelector('.acc-panel');\n      if (other !== item) close(otherPanel, other);\n    });\n\n    if (!isOpen) {\n      open(panel, item);\n    } else {\n      close(panel, item);\n    }\n  });\n\n  document\n    .querySelectorAll('.acc-item.is-open .acc-panel')\n    .forEach((p) => (p.style.height = 'auto'));\n\n  /*Reviews read more*/\n  const blocks = document.querySelectorAll('.reviews__list-text[data-words]');\n\n  blocks.forEach((block) => {\n    const wordsLimit = parseInt(block.dataset.words, 10);\n    if (!wordsLimit) return;\n\n    const p = block.querySelector('p');\n    if (!p) return;\n\n    const fullText = (p.textContent || '').trim();\n    const words = fullText.split(/\\s+/);\n    if (words.length <= wordsLimit) return;\n\n    const shortText = words.slice(0, wordsLimit).join(' ') + '‚Ä¶';\n\n    // wrap text only (button will be outside)\n    const inner = document.createElement('div');\n    inner.className = 'reviews__list-text-inner';\n    block.insertBefore(inner, p);\n    inner.appendChild(p);\n\n    // button\n    const btn = document.createElement('button');\n    btn.type = 'button';\n    btn.className = 'reviews__read-more';\n    block.appendChild(btn);\n\n    let isOpen = false;\n\n    const setBtn = () => (btn.textContent = isOpen ? 'Read less' : 'Read more');\n\n    const setMaxHeightToContent = () => {\n      // —Å—Ç–∞–≤–∏–º–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É –≤–∏—Å–æ—Ç—É, —â–æ–± –±—É–≤ slide\n      inner.style.maxHeight = inner.scrollHeight + 'px';\n    };\n\n    const setClosedHeight = () => {\n      // –≤–∞–∂–ª–∏–≤–æ: –∑–∞–º—ñ—Ä –≤–∏—Å–æ—Ç–∏ –∑ –∫–æ—Ä–æ—Ç–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º\n      inner.style.maxHeight = inner.scrollHeight + 'px';\n    };\n\n    const open = () => {\n      // 1) —Å—Ç–∞–≤–∏–º–æ –ø–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç\n      p.textContent = fullText;\n\n      // 2) —Å–∫–∏–¥–∞—î–º–æ max-height –Ω–∞ 0 —ñ –æ–¥—Ä–∞–∑—É —Å—Ç–∞–≤–∏–º–æ –ø–æ—Ç—Ä—ñ–±–Ω—É (–¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ transition)\n      inner.style.maxHeight = '0px';\n      inner.getBoundingClientRect(); // force reflow\n      setMaxHeightToContent();\n    };\n\n    const close = () => {\n      // 1) —Ñ—ñ–∫—Å—É—î–º–æ –ø–æ—Ç–æ—á–Ω—É –≤–∏—Å–æ—Ç—É (–∑ fullText)\n      inner.style.maxHeight = inner.scrollHeight + 'px';\n      inner.getBoundingClientRect(); // force reflow\n\n      // 2) —Å—Ç–∞–≤–∏–º–æ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\n      p.textContent = shortText;\n\n      // 3) —Å—Ç–∞–≤–∏–º–æ max-height –ø—ñ–¥ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\n      setClosedHeight();\n    };\n\n    // –ø—ñ—Å–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–∂–Ω–∞ \"–≤—ñ–¥–ø—É—Å—Ç–∏—Ç–∏\" max-height, —â–æ–± –Ω–µ —Ä—ñ–∑–∞–ª–æ –ø—Ä–∏ responsive\n    inner.addEventListener('transitionend', (e) => {\n      if (e.propertyName !== 'max-height') return;\n      if (isOpen) {\n        inner.style.maxHeight = 'none';\n      }\n    });\n\n    btn.addEventListener('click', () => {\n      isOpen = !isOpen;\n      setBtn();\n\n      if (isOpen) open();\n      else {\n        // —è–∫—â–æ –±—É–ª–æ none ‚Äî —Ç—Ä–µ–±–∞ –∑–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–¥ –∞–Ω—ñ–º–∞—Ü—ñ—î—é\n        if (inner.style.maxHeight === 'none') {\n          inner.style.maxHeight = inner.scrollHeight + 'px';\n          inner.getBoundingClientRect();\n        }\n        close();\n      }\n    });\n\n    // init (closed)\n    p.textContent = shortText;\n    setBtn();\n    // –≤–∏—Å—Ç–∞–≤–ª—è—î–º–æ —Å—Ç–∞—Ä—Ç–æ–≤—É –≤–∏—Å–æ—Ç—É –ø—ñ–¥ –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç\n    inner.style.maxHeight = inner.scrollHeight + 'px';\n\n    // optional: –Ω–∞ —Ä–µ—Å–∞–π–∑—ñ –∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏, —è–∫—â–æ –∑–∞–∫—Ä–∏—Ç–æ\n    const ro = new ResizeObserver(() => {\n      if (isOpen) return;\n      inner.style.maxHeight = inner.scrollHeight + 'px';\n    });\n    ro.observe(block);\n  });\n\n  const annotationRoot = document.querySelector('.reviews__annotation[data-words]');\n  if (!annotationRoot) return;\n\n  /*Reviews annotation read more*/\n  const annotationLimit = parseInt(annotationRoot.dataset.words, 10);\n  if (!annotationLimit) return;\n\n  // –ü–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç (—É—Å—ñ <p>)\n  const annotationFullHTML = annotationRoot.innerHTML;\n  const annotationFullText = annotationRoot.textContent.trim().replace(/\\s+/g, ' ');\n\n  const annotationWords = annotationFullText.split(' ');\n  if (annotationWords.length <= annotationLimit) return;\n\n  const annotationShortText = annotationWords.slice(0, annotationLimit).join(' ') + '‚Ä¶';\n\n  // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –∞–Ω—ñ–º—É—î–º–æ\n  const annotationInner = document.createElement('div');\n  annotationInner.className = 'reviews__annotation-inner';\n  annotationInner.innerHTML = `<p>${annotationShortText}</p>`;\n\n  // –ö–Ω–æ–ø–∫–∞\n  const annotationToggle = document.createElement('button');\n  annotationToggle.type = 'button';\n  annotationToggle.className = 'reviews__annotation-toggle';\n\n  let annotationIsOpen = false;\n\n  const annotationSetButton = () => {\n    annotationToggle.textContent = annotationIsOpen ? 'Show less' : 'Learn more';\n  };\n\n  const annotationSetMaxHeight = () => {\n    annotationInner.style.maxHeight = annotationInner.scrollHeight + 'px';\n  };\n\n  const annotationOpen = () => {\n    annotationInner.innerHTML = annotationFullHTML;\n\n    annotationInner.style.maxHeight = '0px';\n    annotationInner.getBoundingClientRect(); // reflow\n    annotationSetMaxHeight();\n  };\n\n  const annotationClose = () => {\n    if (annotationInner.style.maxHeight === 'none') {\n      annotationInner.style.maxHeight = annotationInner.scrollHeight + 'px';\n      annotationInner.getBoundingClientRect();\n    }\n\n    annotationInner.innerHTML = `<p>${annotationShortText}</p>`;\n    annotationSetMaxHeight();\n  };\n\n  annotationInner.addEventListener('transitionend', (e) => {\n    if (e.propertyName !== 'max-height') return;\n    if (annotationIsOpen) {\n      annotationInner.style.maxHeight = 'none';\n    }\n  });\n\n  annotationToggle.addEventListener('click', () => {\n    annotationIsOpen = !annotationIsOpen;\n    annotationSetButton();\n    annotationIsOpen ? annotationOpen() : annotationClose();\n  });\n\n  // –ú–æ–Ω—Ç–∞–∂\n  annotationRoot.innerHTML = '';\n  annotationRoot.appendChild(annotationInner);\n  annotationRoot.appendChild(annotationToggle);\n\n  // Init\n  annotationSetButton();\n  annotationSetMaxHeight();\n\n  // Resize safety\n  const annotationRO = new ResizeObserver(() => {\n    if (!annotationIsOpen) {\n      annotationSetMaxHeight();\n    }\n  });\n  annotationRO.observe(annotationRoot);\n\n  /*Health optimization scroll*/\n  const hoViewport = document.querySelector('.health-optimization__list');\n  if (!hoViewport) return;\n\n  const hoTrack = hoViewport.querySelector('.health-optimization__track');\n  if (!hoTrack) return;\n\n  const hoMOBILE_BP = 1023;\n\n  // position\n  let hoX = 0;\n  let hoDir = 1; // 1 ‚Üí forward, -1 ‚Üí back (mobile)\n  let hoRafId = null; // mobile RAF\n  let hoMode = null; // 'mobile' | 'desktop'\n\n  // smooth wheel (desktop)\n  let hoTargetX = 0;\n  let hoEaseRafId = null;\n  const hoEASE = 0.12; // 0.08..0.18 (bigger = faster)\n  const ho_WHEEL_SENS = 0.9; // wheel sensitivity\n\n  const hoIsMobile = () => window.innerWidth <= hoMOBILE_BP;\n\n  const hoMaxScroll = () => {\n    const vw = hoViewport.clientWidth;\n    const tw = hoTrack.scrollWidth;\n    return Math.max(0, tw - vw);\n  };\n\n  const hoClamp = (val, min, max) => Math.max(min, Math.min(val, max));\n\n  const hoSetX = (val) => {\n    hoX = val;\n    hoTrack.style.transform = `translate3d(${-hoX}px, 0, 0)`;\n  };\n\n  /* ===== MOBILE: pendulum auto scroll ===== */\n  const hoStartAuto = () => {\n    hoStopAuto();\n\n    const hoSpeed = 0.35; // üëà speed\n\n    const hoTick = () => {\n      const max = hoMaxScroll();\n      if (max <= 0) {\n        hoRafId = requestAnimationFrame(hoTick);\n        return;\n      }\n\n      hoX += hoSpeed * hoDir;\n\n      if (hoX >= max) {\n        hoX = max;\n        hoDir = -1;\n      } else if (hoX <= 0) {\n        hoX = 0;\n        hoDir = 1;\n      }\n\n      hoSetX(hoX);\n      hoRafId = requestAnimationFrame(hoTick);\n    };\n\n    hoRafId = requestAnimationFrame(hoTick);\n  };\n\n  const hoStopAuto = () => {\n    if (hoRafId) cancelAnimationFrame(hoRafId);\n    hoRafId = null;\n  };\n\n  /* ===== DESKTOP: wheel scroll (smooth inertia) ===== */\n  let hoPointerX = null;\n  let hoPointerY = null;\n\n  window.addEventListener(\n    'mousemove',\n    (ev) => {\n      hoPointerX = ev.clientX;\n      hoPointerY = ev.clientY;\n    },\n    { passive: true },\n  );\n\n  const hoIsPointerOverViewport = () => {\n    if (hoPointerX === null || hoPointerY === null) return false;\n    const el = document.elementFromPoint(hoPointerX, hoPointerY);\n    return !!el && hoViewport.contains(el);\n  };\n\n  const hoStopEase = () => {\n    if (hoEaseRafId) cancelAnimationFrame(hoEaseRafId);\n    hoEaseRafId = null;\n  };\n\n  const hoStartEase = () => {\n    if (hoEaseRafId) return;\n\n    const step = () => {\n      const max = hoMaxScroll();\n\n      hoTargetX = hoClamp(hoTargetX, 0, max);\n\n      const diff = hoTargetX - hoX;\n\n      if (Math.abs(diff) < 0.25) {\n        hoSetX(hoTargetX);\n        hoEaseRafId = null;\n        return;\n      }\n\n      hoSetX(hoX + diff * hoEASE);\n      hoEaseRafId = requestAnimationFrame(step);\n    };\n\n    hoEaseRafId = requestAnimationFrame(step);\n  };\n\n  const hoOnWheel = (e) => {\n    if (hoMode !== 'desktop') return;\n\n    // ‚úÖ only when pointer is really over the section (no hover bug)\n    if (!hoIsPointerOverViewport()) return;\n\n    const max = hoMaxScroll();\n    if (max <= 0) return;\n\n    const delta = e.deltaY;\n\n    // if already at edges and trying to go further ‚Üí let page scroll\n    const atStart = hoTargetX <= 0 && delta < 0;\n    const atEnd = hoTargetX >= max && delta > 0;\n    if (atStart || atEnd) return;\n\n    e.preventDefault();\n\n    hoTargetX += delta * ho_WHEEL_SENS;\n    hoTargetX = hoClamp(hoTargetX, 0, max);\n\n    hoStartEase();\n  };\n\n  /* ===== MODE SWITCH ===== */\n  const hoApplyMode = () => {\n    const nextMode = hoIsMobile() ? 'mobile' : 'desktop';\n    if (nextMode === hoMode) return;\n\n    hoMode = nextMode;\n\n    // stop everything\n    hoStopAuto();\n    hoStopEase();\n\n    // reset position\n    const max = hoMaxScroll();\n    hoX = 0;\n    hoTargetX = 0;\n    hoDir = 1;\n    hoSetX(0);\n\n    if (hoMode === 'mobile') {\n      window.removeEventListener('wheel', hoOnWheel);\n      hoStartAuto();\n    } else {\n      window.addEventListener('wheel', hoOnWheel, { passive: false });\n      // ensure clamped on desktop\n      hoSetX(hoClamp(hoX, 0, max));\n    }\n  };\n\n  hoApplyMode();\n\n  window.addEventListener('resize', () => {\n    hoApplyMode();\n\n    // clamp current values after resize\n    const max = hoMaxScroll();\n    hoX = hoClamp(hoX, 0, max);\n    hoTargetX = hoClamp(hoTargetX, 0, max);\n    hoSetX(hoX);\n  });\n});\n\ndocument.querySelectorAll('.reviews__annotation[data-words]').length;\n"]}