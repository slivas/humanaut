"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}document.addEventListener("DOMContentLoaded",(function(){var e=function(){return window.innerWidth<=1023},t=document.querySelectorAll(".modal-trigger"),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".modal.is-open").forEach((function(t){e&&t===e||t.classList.remove("is-open")})),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")},i=function(e){e.classList.add("is-open"),document.body.classList.add("modal-open")},o=function(e){e.classList.remove("is-open"),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")};t.forEach((function(t){var r=t.dataset.modal,a=document.getElementById(r);if(a){var s=a.querySelector(".modal-close");t.addEventListener("click",(function(t){e()&&(t.preventDefault(),t.stopPropagation(),a.classList.contains("is-open")?o(a):(n(a),i(a)))})),t.addEventListener("mouseenter",(function(){e()||i(a)})),t.addEventListener("mouseleave",(function(){e()||o(a)})),a.addEventListener("mouseenter",(function(){e()||i(a)})),a.addEventListener("mouseleave",(function(){e()||o(a)})),null==s||s.addEventListener("click",(function(e){e.stopPropagation(),o(a)}))}})),document.addEventListener("click",(function(t){if(e()){var i=document.querySelector(".modal.is-open");if(i){var o=i.querySelector(".modal-inner");o&&(o.contains(t.target)||t.target.closest(".modal-trigger")||n())}}})),window.addEventListener("resize",n);var r=document.querySelector(".implementation");if(r){var a=r.querySelector(".implementation__inner");if(a){var s=r.querySelector(".implementation__nav-btn.next"),l=r.querySelector(".implementation__nav-btn.prev"),c=r.querySelector(".implementation__item-num span"),u=1,d=!1,m=0,f=!0,v=function(){var e=a.className.match(/item-(\d+)-active/);return e?parseInt(e[1],10):1},p=function(e){u=Math.max(1,Math.min(e,5));for(var t=1;t<=5;t++)a.classList.remove("item-".concat(t,"-active"));a.classList.add("item-".concat(u,"-active")),c&&(c.textContent=String(u).padStart(2,"0")),l&&(l.disabled=1===u),s&&(s.disabled=5===u),5===u?r.classList.add("allow-scroll-past"):r.classList.remove("allow-scroll-past")},h=function(e){if(!f)return!1;var t=u+e;return t>=1&&t<=5&&(p(t),f=!1,setTimeout((function(){f=!0}),200),!0)};null==s||s.addEventListener("click",(function(){return h(1)})),null==l||l.addEventListener("click",(function(){return h(-1)}));var g=0;r.addEventListener("touchstart",(function(t){e()&&(g=t.touches[0].clientX)}),{passive:!0}),r.addEventListener("touchend",(function(t){if(e()){var n=t.changedTouches[0].clientX-g;Math.abs(n)>50&&h(n<0?1:-1)}}),{passive:!0}),new IntersectionObserver((function(e){var t=e[0].boundingClientRect;u=v(),d=t.top<=5&&t.top>=-5}),{threshold:0,rootMargin:"0px"}).observe(r);window.addEventListener("wheel",(function(t){if(!e()){var n=r.getBoundingClientRect(),i=n.top<=10&&n.top>=-10,o=n.top<=50&&n.top>=-50;u=v(),d=i;var a=t.deltaY>0,s=t.deltaY<0,l=u<5,c=u>1;if(s&&c&&o&&!i){var p=window.scrollY+n.top;return window.scrollTo({top:p,behavior:"auto"}),t.preventDefault(),void t.stopPropagation()}if(i&&!(1===u&&s||5===u&&a))if(t.preventDefault(),t.stopPropagation(),a&&l||s&&c){if(!f)return void(m=0);(m+=t.deltaY)>=30?m=(h(1),0):m<=-30&&(m=(h(-1),0))}else m=0}}),{passive:!1}),window.addEventListener("scroll",(function(t){if(!e()){var n=r.getBoundingClientRect(),i=n.top<=5&&n.top>=-5,o=n.top<=50&&n.top>=-50;if(u=v(),d=i,o&&!i&&u>1){var a=window.scrollY+n.top;return window.scrollTo({top:a,behavior:"auto"}),t.preventDefault(),void t.stopPropagation()}if(d&&i){if(5===u)return;t.preventDefault(),t.stopPropagation();var s=window.scrollY+n.top;Math.abs(n.top)>1&&window.scrollTo({top:s,behavior:"auto"})}}}),{passive:!1}),p(v());var y=document.querySelector(".about__list");if(y){var _=function(){return _toConsumableArray(y.querySelectorAll(".about__list-item"))},b=_();y.addEventListener("click",(function(t){if(e()){var n=t.target.closest(".about__list-item--btn");if(!n)return;var i=n.closest(".about__list-item");if(!i)return;var o=i.querySelector(".about__list-item--description");if(!o)return;n.classList.toggle("is-open");var r=n.classList.contains("is-open");return r?de(o):ue(o),void(n.textContent=r?"Read less":"Read more")}var a=t.target.closest(".about__list-item--img");if(a){var s=a.closest(".about__list-item");if(s){var l=_(),c=l.indexOf(s),u=s.classList.contains("is-active");fe(y,u?function(){me(),b.forEach((function(e){return y.appendChild(e)}))}:function(){me(),y.prepend(s),s.classList.add("is-active"),l.forEach((function(e,t){e!==s&&(t<c?e.classList.add("is-left"):e.classList.add("is-right"))})),y.classList.add("is-expanded")},520)}}})),_().forEach((function(t){var n=t.querySelector(".about__list-item--description");n&&n.addEventListener("transitionend",(function(t){"max-height"===t.propertyName&&e()&&(n.classList.contains("is-collapsed")||(n.style.maxHeight="none"))}))}));var L=e()?"mobile":"desktop";ve(),window.addEventListener("resize",(function(){(e()?"mobile":"desktop")!==L&&ve()}));var w=document.querySelector(".logo-line");if(w){var x=w.querySelector(".logo-line__viewport"),E=w.querySelector(".logo-line__track"),S=w.querySelector(".logo-line__list");if(x&&E&&S){var q=E.querySelector('.logo-line__list[data-clone="1"]');q||((q=S.cloneNode(!0)).setAttribute("data-clone","1"),E.appendChild(q));var A=function(){var e=S.getBoundingClientRect().width;e&&(w.style.setProperty("--marquee-distance","".concat(e,"px")),w.style.setProperty("--marquee-duration","".concat(e/80,"s")))},C=_toConsumableArray(w.querySelectorAll("img"));Promise.all(C.map((function(e){return e.complete?Promise.resolve():new Promise((function(t){e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))}))).then(A);var H=new ResizeObserver((function(){clearTimeout(A._t),A._t=setTimeout(A,120)}));H.observe(x),H.observe(S),window.addEventListener("resize",(function(){clearTimeout(A._t),A._t=setTimeout(A,150)})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.closest(".how-it-works"),n=_toConsumableArray(e.querySelectorAll("[data-tab]")),i=_toConsumableArray(e.querySelectorAll("[data-tab-target]"));if(n.length&&i.length){var o=parseInt(e.dataset.interval,10)||4e3,r=n.map((function(e){return e.dataset.tab})),a=Math.max(0,n.findIndex((function(e){return e.classList.contains("is-active")})));-1===a&&(a=0);var s=null,l=function(e){n.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tab===e)})),i.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tabTarget===e)})),function(e){t&&(t.className=t.className.split(" ").filter((function(e){return!e.startsWith("how-it-works--")})).join(" "),t.classList.add("how-it-works--".concat(e)))}(e),a=r.indexOf(e)},c=function(){var e=(a+1)%r.length;l(r[e])},u=function(){d(),s=setInterval(c,o)},d=function(){s&&(clearInterval(s),s=null)};n.forEach((function(e){e.addEventListener("click",(function(){l(e.dataset.tab),u()}))})),l(r[a]),u(),document.addEventListener("visibilitychange",(function(){document.hidden?d():u()}))}}));var k=document.querySelector(".cta");if(k){var T=k.querySelector(".cta__bg");if(T){var R=120,M=!1,I=function(){R=window.innerWidth>=1024?280:150};I();var B=function(){var e=k.getBoundingClientRect(),t=window.innerHeight;if(e.bottom>0&&e.top<t){var n=(t-e.top)/(t+e.height),i=(Math.min(Math.max(n,0),1)-.5)*R*2;T.style.transform="translate3d(0, ".concat(i,"px, 0)"),M=!1}else M=!1},P=function(){M||(M=!0,requestAnimationFrame(B))};window.addEventListener("scroll",P,{passive:!0}),window.addEventListener("resize",(function(){I(),P()})),P();var N=document.querySelector(".accordion");N.addEventListener("click",(function(e){var t=e.target.closest(".acc-trigger");if(t){var n=t.parentElement,i=t.nextElementSibling,o=n.classList.contains("is-open");N.querySelectorAll(".acc-item.is-open").forEach((function(e){var t=e.querySelector(".acc-panel");e!==n&&pe(t,e)})),o?pe(i,n):function(e,t){t.classList.add("is-open"),e.style.height=e.getBoundingClientRect().height+"px",requestAnimationFrame((function(){e.style.height=e.scrollHeight+"px"}));var n=function(t){"height"===t.propertyName&&(e.removeEventListener("transitionend",n),e.style.height="auto")};e.addEventListener("transitionend",n)}(i,n)}})),document.querySelectorAll(".acc-item.is-open .acc-panel").forEach((function(e){return e.style.height="auto"})),document.querySelectorAll(".reviews__list-text[data-words]").forEach((function(e){var t=parseInt(e.dataset.words,10);if(t){var n=e.querySelector("p");if(n){var i=(n.textContent||"").trim(),o=i.split(/\s+/);if(!(o.length<=t)){var r=o.slice(0,t).join(" ")+"…",a=document.createElement("div");a.className="reviews__list-text-inner",e.insertBefore(a,n),a.appendChild(n);var s=document.createElement("button");s.type="button",s.className="reviews__read-more",e.appendChild(s);var l=!1,c=function(){return s.textContent=l?"Read less":"Read more"},u=function(){n.textContent=i,a.style.maxHeight="0px",a.getBoundingClientRect(),a.style.maxHeight=a.scrollHeight+"px"},d=function(){a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect(),n.textContent=r,a.style.maxHeight=a.scrollHeight+"px"};a.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&l&&(a.style.maxHeight="none")})),s.addEventListener("click",(function(){l=!l,c(),l?u():("none"===a.style.maxHeight&&(a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect()),d())})),n.textContent=r,c(),a.style.maxHeight=a.scrollHeight+"px",new ResizeObserver((function(){l||(a.style.maxHeight=a.scrollHeight+"px")})).observe(e)}}}}));var F=document.querySelector(".reviews__annotation[data-words]");if(F){var z=parseInt(F.dataset.words,10);if(z){var O=F.innerHTML,W=F.textContent.trim().replace(/\s+/g," ").split(" ");if(!(W.length<=z)){var Y=W.slice(0,z).join(" ")+"…",D=document.createElement("div");D.className="reviews__annotation-inner",D.innerHTML="<p>".concat(Y,"</p>");var j=document.createElement("button");j.type="button",j.className="reviews__annotation-toggle";var X=!1,U=function(){j.textContent=X?"Show less":"Learn more"},$=function(){D.style.maxHeight=D.scrollHeight+"px"};D.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&X&&(D.style.maxHeight="none")})),j.addEventListener("click",(function(){X=!X,U(),X?(D.innerHTML=O,D.style.maxHeight="0px",D.getBoundingClientRect(),$()):("none"===D.style.maxHeight&&(D.style.maxHeight=D.scrollHeight+"px",D.getBoundingClientRect()),D.innerHTML="<p>".concat(Y,"</p>"),$())})),F.innerHTML="",F.appendChild(D),F.appendChild(j),U(),$(),new ResizeObserver((function(){X||$()})).observe(F);var G=document.querySelector(".health-optimization__list");if(G){var J=G.querySelector(".health-optimization__track");if(J){var K=0,Q=1,V=null,Z=null,ee=0,te=null,ne=function(){var e=G.clientWidth,t=J.scrollWidth;return Math.max(0,t-e)},ie=function(e,t,n){return Math.max(t,Math.min(e,n))},oe=function(e){K=e,J.style.transform="translate3d(".concat(-K,"px, 0, 0)")},re=function(){V&&cancelAnimationFrame(V),V=null},ae=null,se=null;window.addEventListener("mousemove",(function(e){ae=e.clientX,se=e.clientY}),{passive:!0});var le=function(e){if("desktop"===Z&&function(){if(null===ae||null===se)return!1;var e=document.elementFromPoint(ae,se);return!!e&&G.contains(e)}()){var t=ne();if(!(t<=0)){var n=e.deltaY;ee<=0&&n<0||ee>=t&&n>0||(e.preventDefault(),ee=ie(ee+=.9*n,0,t),function(){if(!te){var e=function(){var t=ne(),n=(ee=ie(ee,0,t))-K;if(Math.abs(n)<.25)return oe(ee),void(te=null);oe(K+.12*n),te=requestAnimationFrame(e)};te=requestAnimationFrame(e)}}())}}},ce=function(){var e=window.innerWidth<=1023?"mobile":"desktop";if(e!==Z){Z=e,re(),te&&cancelAnimationFrame(te),te=null;var t=ne();K=0,ee=0,Q=1,oe(0),"mobile"===Z?(window.removeEventListener("wheel",le),function(){re();var e=function(){var t=ne();t<=0||((K+=.35*Q)>=t?(K=t,Q=-1):K<=0&&(K=0,Q=1),oe(K)),V=requestAnimationFrame(e)};V=requestAnimationFrame(e)}()):(window.addEventListener("wheel",le,{passive:!1}),oe(ie(K,0,t)))}};ce(),window.addEventListener("resize",(function(){ce();var e=ne();K=ie(K,0,e),ee=ie(ee,0,e),oe(K)}))}}}}}}}}}}}}function ue(e){e.classList.add("is-collapsed"),e.style.maxHeight="0px"}function de(e){e.classList.remove("is-collapsed"),e.style.maxHeight=e.scrollHeight+"px"}function me(){y.classList.remove("is-expanded"),_().forEach((function(e){return e.classList.remove("is-active","is-left","is-right")}))}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:520,i=Array.from(e.children),o=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));t(),e.getBoundingClientRect();var r=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));return i.forEach((function(e){var t=o.get(e),n=r.get(e);if(t&&n){var i=t.left-n.left,a=t.top-n.top;(i||a)&&(e.style.transform="translate(".concat(i,"px, ").concat(a,"px)"),e.style.transition="transform 0s")}})),requestAnimationFrame((function(){i.forEach((function(e){e.style.transform&&(e.style.transition="transform ".concat(n,"ms ease"),e.style.transform="")}))})),setTimeout((function(){i.forEach((function(e){e.style.transition="",e.style.transform=""}))}),n+60),n}function ve(){var t=e()?"mobile":"desktop";"mobile"===t?(me(),_().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");if(t&&n){n.style.display="inline-block";var i=n.classList.contains("is-open");i?de(t):ue(t),n.textContent=i?"Read less":"Read more"}}))):(_().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");t&&function(e){e.classList.remove("is-collapsed"),e.style.removeProperty("max-height")}(t),n&&(n.style.display="none",n.classList.remove("is-open"),n.textContent="")})),me(),b.forEach((function(e){return y.appendChild(e)}))),L=t}function pe(e,t){t.classList.remove("is-open"),e.style.height=e.scrollHeight+"px",requestAnimationFrame((function(){e.style.height="0px"}))}})),document.querySelectorAll(".reviews__annotation[data-words]").length;//# sourceMappingURL=main.js.map
