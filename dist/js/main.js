"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}document.addEventListener("DOMContentLoaded",(function(){var e=function(){return window.innerWidth<=1023},t=document.querySelectorAll(".modal-trigger"),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".modal.is-open").forEach((function(t){e&&t===e||t.classList.remove("is-open")})),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")},i=function(e){e.classList.add("is-open"),document.body.classList.add("modal-open")},r=function(e){e.classList.remove("is-open"),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")};t.forEach((function(t){var o=t.dataset.modal,a=document.getElementById(o);if(a){var s=a.querySelector(".modal-close");t.addEventListener("click",(function(t){e()&&(t.preventDefault(),t.stopPropagation(),a.classList.contains("is-open")?r(a):(n(a),i(a)))})),t.addEventListener("mouseenter",(function(){e()||i(a)})),t.addEventListener("mouseleave",(function(){e()||r(a)})),a.addEventListener("mouseenter",(function(){e()||i(a)})),a.addEventListener("mouseleave",(function(){e()||r(a)})),null==s||s.addEventListener("click",(function(e){e.stopPropagation(),r(a)}))}})),document.addEventListener("click",(function(t){if(e()){var i=document.querySelector(".modal.is-open");if(i){var r=i.querySelector(".modal-inner");r&&(r.contains(t.target)||t.target.closest(".modal-trigger")||n())}}})),window.addEventListener("resize",n);var o=document.querySelector(".implementation");if(o){var a=o.querySelector(".implementation__inner");if(a){var s=o.querySelector(".implementation__nav-btn.next"),l=o.querySelector(".implementation__nav-btn.prev"),c=o.querySelector(".implementation__item-num span"),u=function(){return 5.3*(window.innerHeight||document.documentElement.clientHeight)},d=function(e,t,n){return Math.min(Math.max(e,t),n)},m=function(){var e=a.className.match(/item-(\d+)-active/),t=e?parseInt(e[1],10):1;return d(t,1,5)},f=function(e){for(var t=d(e,1,5),n=1;n<=5;n++)a.classList.remove("item-".concat(n,"-active"));a.classList.add("item-".concat(t,"-active")),c&&(c.textContent=String(t).padStart(2,"0")),l&&(l.disabled=1===t),s&&(s.disabled=5===t)},v=function(t){var n=m(),i=d(n+t,1,5);if(e())f(i);else{var r,a=window.innerHeight||document.documentElement.clientHeight,s=o.offsetTop,l=u(),c=((r=o.querySelector(".implementation__body"))?r.offsetHeight||r.getBoundingClientRect().height:window.innerHeight,s+(l-a)*((i-1)/4));window.scrollTo({top:c,behavior:"smooth"})}},p=function(){if(!e()){var t,n=function(){if(e())return 0;var t=window.innerHeight||document.documentElement.clientHeight,n=u(),i=o.offsetTop,r=window.scrollY,a=i+n-t;return r<i?0:r>a?1:(r-i)/(a-i)}(),i=4.8/5.3;if(n>=i)t=5;else{var r=n/i;t=Math.floor(4*r)+1}var a=d(t,1,5);a!==m()&&f(a)}};null==s||s.addEventListener("click",(function(e){e.preventDefault(),v(1)})),null==l||l.addEventListener("click",(function(e){e.preventDefault(),v(-1)}));var h=0,g=0;o.addEventListener("touchstart",(function(t){if(e()){var n=t.touches[0];h=n.clientX,g=n.clientY}}),{passive:!0}),o.addEventListener("touchend",(function(t){if(e()){var n=t.changedTouches[0],i=n.clientX-h,r=n.clientY-g;Math.abs(i)<40||Math.abs(r)>.6*Math.abs(i)||v(i<0?1:-1)}}),{passive:!0});var y=null;window.addEventListener("scroll",(function(){y||(y=requestAnimationFrame((function(){p(),y=null})))}),{passive:!0}),f(m()),p();var _=null;window.addEventListener("resize",(function(){_&&clearTimeout(_),_=setTimeout((function(){p(),_=null}),150)}));var L=document.querySelector(".about__list");if(L){var b=function(){return _toConsumableArray(L.querySelectorAll(".about__list-item"))},w=b();L.addEventListener("click",(function(t){if(e()){var n=t.target.closest(".about__list-item--btn");if(!n)return;var i=n.closest(".about__list-item");if(!i)return;var r=i.querySelector(".about__list-item--description");if(!r)return;n.classList.toggle("is-open");var o=n.classList.contains("is-open");return o?fe(r):me(r),void(n.textContent=o?"Read less":"Read more")}var a=t.target.closest(".about__list-item--img");if(a){var s=a.closest(".about__list-item");if(s){var l=b(),c=l.indexOf(s),u=s.classList.contains("is-active");pe(L,u?function(){ve(),w.forEach((function(e){return L.appendChild(e)}))}:function(){ve(),L.prepend(s),s.classList.add("is-active"),l.forEach((function(e,t){e!==s&&(t<c?e.classList.add("is-left"):e.classList.add("is-right"))})),L.classList.add("is-expanded")},520)}}})),b().forEach((function(t){var n=t.querySelector(".about__list-item--description");n&&n.addEventListener("transitionend",(function(t){"max-height"===t.propertyName&&e()&&(n.classList.contains("is-collapsed")||(n.style.maxHeight="none"))}))}));var x=e()?"mobile":"desktop";he(),window.addEventListener("resize",(function(){(e()?"mobile":"desktop")!==x&&he()}));var E=document.querySelector(".logo-line");if(E){var q=E.querySelector(".logo-line__viewport"),S=E.querySelector(".logo-line__track"),A=E.querySelector(".logo-line__list");if(q&&S&&A){var H=S.querySelector('.logo-line__list[data-clone="1"]');H||((H=A.cloneNode(!0)).setAttribute("data-clone","1"),S.appendChild(H));var C=function(){var e=A.getBoundingClientRect().width;e&&(E.style.setProperty("--marquee-distance","".concat(e,"px")),E.style.setProperty("--marquee-duration","".concat(e/80,"s")))},T=_toConsumableArray(E.querySelectorAll("img"));Promise.all(T.map((function(e){return e.complete?Promise.resolve():new Promise((function(t){e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))}))).then(C);var k=new ResizeObserver((function(){clearTimeout(C._t),C._t=setTimeout(C,120)}));k.observe(q),k.observe(A),window.addEventListener("resize",(function(){clearTimeout(C._t),C._t=setTimeout(C,150)})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.closest(".how-it-works"),n=_toConsumableArray(e.querySelectorAll("[data-tab]")),i=_toConsumableArray(e.querySelectorAll("[data-tab-target]"));if(n.length&&i.length){var r=parseInt(e.dataset.interval,10)||4e3,o=n.map((function(e){return e.dataset.tab})),a=Math.max(0,n.findIndex((function(e){return e.classList.contains("is-active")})));-1===a&&(a=0);var s=null,l=function(e){n.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tab===e)})),i.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tabTarget===e)})),function(e){t&&(t.className=t.className.split(" ").filter((function(e){return!e.startsWith("how-it-works--")})).join(" "),t.classList.add("how-it-works--".concat(e)))}(e),a=o.indexOf(e)},c=function(){var e=(a+1)%o.length;l(o[e])},u=function(){d(),s=setInterval(c,r)},d=function(){s&&(clearInterval(s),s=null)};n.forEach((function(e){e.addEventListener("click",(function(){l(e.dataset.tab),u()}))})),l(o[a]),u(),document.addEventListener("visibilitychange",(function(){document.hidden?d():u()}))}}));var M=document.querySelector(".cta");if(M){var R=M.querySelector(".cta__bg");if(R){var I=120,B=!1,F=function(){I=window.innerWidth>=1024?280:150};F();var N=function(){var e=M.getBoundingClientRect(),t=window.innerHeight;if(e.bottom>0&&e.top<t){var n=(t-e.top)/(t+e.height),i=(Math.min(Math.max(n,0),1)-.5)*I*2;R.style.transform="translate3d(0, ".concat(i,"px, 0)"),B=!1}else B=!1},z=function(){B||(B=!0,requestAnimationFrame(N))};window.addEventListener("scroll",z,{passive:!0}),window.addEventListener("resize",(function(){F(),z()})),z();var P=document.querySelector(".accordion");P.addEventListener("click",(function(e){var t=e.target.closest(".acc-trigger");if(t){var n=t.parentElement,i=t.nextElementSibling,r=n.classList.contains("is-open");P.querySelectorAll(".acc-item.is-open").forEach((function(e){var t=e.querySelector(".acc-panel");e!==n&&ge(t,e)})),r?ge(i,n):function(e,t){t.classList.add("is-open"),e.style.height=e.getBoundingClientRect().height+"px",requestAnimationFrame((function(){e.style.height=e.scrollHeight+"px"}));var n=function(t){"height"===t.propertyName&&(e.removeEventListener("transitionend",n),e.style.height="auto")};e.addEventListener("transitionend",n)}(i,n)}})),document.querySelectorAll(".acc-item.is-open .acc-panel").forEach((function(e){return e.style.height="auto"})),document.querySelectorAll(".reviews__list-text[data-words]").forEach((function(e){var t=parseInt(e.dataset.words,10);if(t){var n=e.querySelector("p");if(n){var i=(n.textContent||"").trim(),r=i.split(/\s+/);if(!(r.length<=t)){var o=r.slice(0,t).join(" ")+"…",a=document.createElement("div");a.className="reviews__list-text-inner",e.insertBefore(a,n),a.appendChild(n);var s=document.createElement("button");s.type="button",s.className="reviews__read-more",e.appendChild(s);var l=!1,c=function(){return s.textContent=l?"Read less":"Read more"},u=function(){n.textContent=i,a.style.maxHeight="0px",a.getBoundingClientRect(),a.style.maxHeight=a.scrollHeight+"px"},d=function(){a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect(),n.textContent=o,a.style.maxHeight=a.scrollHeight+"px"};a.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&l&&(a.style.maxHeight="none")})),s.addEventListener("click",(function(){l=!l,c(),l?u():("none"===a.style.maxHeight&&(a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect()),d())})),n.textContent=o,c(),a.style.maxHeight=a.scrollHeight+"px",new ResizeObserver((function(){l||(a.style.maxHeight=a.scrollHeight+"px")})).observe(e)}}}}));var W=document.querySelector(".reviews__annotation[data-words]");if(W){var O=parseInt(W.dataset.words,10);if(O){var j=W.innerHTML,D=W.textContent.trim().replace(/\s+/g," ").split(" ");if(!(D.length<=O)){var Y=D.slice(0,O).join(" ")+"…",X=document.createElement("div");X.className="reviews__annotation-inner",X.innerHTML="<p>".concat(Y,"</p>");var U=document.createElement("button");U.type="button",U.className="reviews__annotation-toggle";var $=!1,G=function(){U.textContent=$?"Show less":"Learn more"},J=function(){X.style.maxHeight=X.scrollHeight+"px"};X.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&$&&(X.style.maxHeight="none")})),U.addEventListener("click",(function(){$=!$,G(),$?(X.innerHTML=j,X.style.maxHeight="0px",X.getBoundingClientRect(),J()):("none"===X.style.maxHeight&&(X.style.maxHeight=X.scrollHeight+"px",X.getBoundingClientRect()),X.innerHTML="<p>".concat(Y,"</p>"),J())})),W.innerHTML="",W.appendChild(X),W.appendChild(U),G(),J(),new ResizeObserver((function(){$||J()})).observe(W);var K=document.querySelector(".health-optimization__list");if(K){var Q=K.querySelector(".health-optimization__track");if(Q){var V=0,Z=1,ee=null,te=null,ne=0,ie=null,re=function(){var e=K.clientWidth,t=Q.scrollWidth;return Math.max(0,t-e)},oe=function(e,t,n){return Math.max(t,Math.min(e,n))},ae=function(e){V=e,Q.style.transform="translate3d(".concat(-V,"px, 0, 0)")},se=function(){ee&&cancelAnimationFrame(ee),ee=null},le=null,ce=null;window.addEventListener("mousemove",(function(e){le=e.clientX,ce=e.clientY}),{passive:!0});var ue=function(e){if("desktop"===te&&function(){if(null===le||null===ce)return!1;var e=document.elementFromPoint(le,ce);return!!e&&K.contains(e)}()){var t=re();if(!(t<=0)){var n=e.deltaY;ne<=0&&n<0||ne>=t&&n>0||(e.preventDefault(),ne=oe(ne+=.9*n,0,t),function(){if(!ie){var e=function(){var t=re(),n=(ne=oe(ne,0,t))-V;if(Math.abs(n)<.25)return ae(ne),void(ie=null);ae(V+.12*n),ie=requestAnimationFrame(e)};ie=requestAnimationFrame(e)}}())}}},de=function(){var e=window.innerWidth<=1023?"mobile":"desktop";if(e!==te){te=e,se(),ie&&cancelAnimationFrame(ie),ie=null;var t=re();V=0,ne=0,Z=1,ae(0),"mobile"===te?(window.removeEventListener("wheel",ue),function(){se();var e=function(){var t=re();t<=0||((V+=.35*Z)>=t?(V=t,Z=-1):V<=0&&(V=0,Z=1),ae(V)),ee=requestAnimationFrame(e)};ee=requestAnimationFrame(e)}()):(window.addEventListener("wheel",ue,{passive:!1}),ae(oe(V,0,t)))}};de(),window.addEventListener("resize",(function(){de();var e=re();V=oe(V,0,e),ne=oe(ne,0,e),ae(V)}))}}}}}}}}}}}}function me(e){e.classList.add("is-collapsed"),e.style.maxHeight="0px"}function fe(e){e.classList.remove("is-collapsed"),e.style.maxHeight=e.scrollHeight+"px"}function ve(){L.classList.remove("is-expanded"),b().forEach((function(e){return e.classList.remove("is-active","is-left","is-right")}))}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:520,i=Array.from(e.children),r=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));t(),e.getBoundingClientRect();var o=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));return i.forEach((function(e){var t=r.get(e),n=o.get(e);if(t&&n){var i=t.left-n.left,a=t.top-n.top;(i||a)&&(e.style.transform="translate(".concat(i,"px, ").concat(a,"px)"),e.style.transition="transform 0s")}})),requestAnimationFrame((function(){i.forEach((function(e){e.style.transform&&(e.style.transition="transform ".concat(n,"ms ease"),e.style.transform="")}))})),setTimeout((function(){i.forEach((function(e){e.style.transition="",e.style.transform=""}))}),n+60),n}function he(){var t=e()?"mobile":"desktop";"mobile"===t?(ve(),b().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");if(t&&n){n.style.display="inline-block";var i=n.classList.contains("is-open");i?fe(t):me(t),n.textContent=i?"Read less":"Read more"}}))):(b().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");t&&function(e){e.classList.remove("is-collapsed"),e.style.removeProperty("max-height")}(t),n&&(n.style.display="none",n.classList.remove("is-open"),n.textContent="")})),ve(),w.forEach((function(e){return L.appendChild(e)}))),x=t}function ge(e,t){t.classList.remove("is-open"),e.style.height=e.scrollHeight+"px",requestAnimationFrame((function(){e.style.height="0px"}))}})),document.querySelectorAll(".reviews__annotation[data-words]").length;//# sourceMappingURL=main.js.map
