"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}document.addEventListener("DOMContentLoaded",(function(){var e=function(){return window.innerWidth<=1023},t=document.querySelectorAll(".modal-trigger"),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll(".modal.is-open").forEach((function(t){e&&t===e||t.classList.remove("is-open")})),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")},i=function(e){e.classList.add("is-open"),document.body.classList.add("modal-open")},r=function(e){e.classList.remove("is-open"),document.querySelector(".modal.is-open")||document.body.classList.remove("modal-open")};t.forEach((function(t){var o=t.dataset.modal,a=document.getElementById(o);if(a){var s=a.querySelector(".modal-close");t.addEventListener("click",(function(t){e()&&(t.preventDefault(),t.stopPropagation(),a.classList.contains("is-open")?r(a):(n(a),i(a)))})),t.addEventListener("mouseenter",(function(){e()||i(a)})),t.addEventListener("mouseleave",(function(){e()||r(a)})),a.addEventListener("mouseenter",(function(){e()||i(a)})),a.addEventListener("mouseleave",(function(){e()||r(a)})),null==s||s.addEventListener("click",(function(e){e.stopPropagation(),r(a)}))}})),document.addEventListener("click",(function(t){if(e()){var i=document.querySelector(".modal.is-open");if(i){var r=i.querySelector(".modal-inner");r&&(r.contains(t.target)||t.target.closest(".modal-trigger")||n())}}})),window.addEventListener("resize",n);var o=document.querySelector(".implementation");if(o){var a=o.querySelector(".implementation__inner");if(a){var s=o.querySelector(".implementation__nav-btn.next"),l=o.querySelector(".implementation__nav-btn.prev"),c=o.querySelector(".implementation__item-num span"),u=!1,d=!1,m=0,f=!1,v=null,p=function(e,t,n){return Math.min(Math.max(e,t),n)},h=function(){var e=a.className.match(/item-(\d+)-active/),t=e?parseInt(e[1],10):1;return p(t,1,5)},y=function(e){for(var t=p(e,1,5),n=1;n<=5;n++)a.classList.remove("item-".concat(n,"-active"));a.classList.add("item-".concat(t,"-active")),c&&(c.textContent=String(t).padStart(2,"0")),l&&(l.disabled=1===t),s&&(s.disabled=5===t)},g=function(e){return y(h()+e)},L=function(){m=0,f=!1,v&&(clearTimeout(v),v=null)};null==s||s.addEventListener("click",(function(e){e.preventDefault(),g(1)})),null==l||l.addEventListener("click",(function(e){e.preventDefault(),g(-1)}));var _=0,b=0;o.addEventListener("touchstart",(function(t){if(e()){var n=t.touches[0];_=n.clientX,b=n.clientY}}),{passive:!0}),o.addEventListener("touchend",(function(t){if(e()){var n=t.changedTouches[0],i=n.clientX-_,r=n.clientY-b;Math.abs(i)<40||Math.abs(r)>.6*Math.abs(i)||g(i<0?1:-1)}}),{passive:!0}),new IntersectionObserver((function(e){var t=e[0];d=t.isIntersecting&&t.intersectionRatio>=.55,(!t.isIntersecting||t.intersectionRatio<.2)&&L()}),{threshold:[0,.2,.55,1]}).observe(o);window.addEventListener("wheel",(function(t){var n,i,r,a,s;if(!e())if(n=o.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,r=n.top+n.height/2,a=i/2,s=.18*i,u=Math.abs(r-a)<=s,d&&u){var l=function(e){return p(e,-90,90)}(t.deltaY),c=h();if(1===c&&l<0||5===c&&l>0)L();else if(t.preventDefault(),v&&clearTimeout(v),v=setTimeout((function(){f=!1,m=0,v=null}),160),!f){var y=(m+=l)>=90?1:m<=-90?-1:0;y&&(g(y),f=!0,m=0)}}else L()}),{passive:!1}),y(h()),window.addEventListener("resize",(function(){L()}));var x=document.querySelector(".about__list");if(x){var w=function(){return _toConsumableArray(x.querySelectorAll(".about__list-item"))},E=w(),S=new WeakMap;x.addEventListener("click",(function(t){if(e()){var n=t.target.closest(".about__list-item--btn");if(!n)return;var i=n.closest(".about__list-item");if(!i)return;var r=i.querySelector(".about__list-item--description");if(!r)return;i.classList.toggle("is-active");var o=i.classList.contains("is-active");return o?he(r):pe(r),n.textContent=o?"Read less":"Read more",void ge(i,o)}var a=t.target.closest(".about__list-item--img");if(a){var s=a.closest(".about__list-item");if(s){var l=w(),c=l.indexOf(s),u=s.classList.contains("is-active");Le(x,u?function(){ye(),E.forEach((function(e){return x.appendChild(e)}))}:function(){ye(),x.prepend(s),s.classList.add("is-active"),l.forEach((function(e,t){e!==s&&(t<c?e.classList.add("is-left"):e.classList.add("is-right"))})),x.classList.add("is-expanded")},520)}}})),w().forEach((function(t){var n=t.querySelector(".about__list-item--description");n&&n.addEventListener("transitionend",(function(t){"max-height"===t.propertyName&&e()&&(n.classList.contains("is-collapsed")||(n.style.maxHeight="none"))}))}));var q=e()?"mobile":"desktop";_e(),window.addEventListener("resize",(function(){(e()?"mobile":"desktop")!==q&&_e()}));var A=document.querySelector(".logo-line");if(A){var H=A.querySelector(".logo-line__viewport"),C=A.querySelector(".logo-line__track"),k=A.querySelector(".logo-line__list");if(H&&C&&k){var T=C.querySelector('.logo-line__list[data-clone="1"]');T||((T=k.cloneNode(!0)).setAttribute("data-clone","1"),C.appendChild(T));var M=function(){var e=k.getBoundingClientRect().width;e&&(A.style.setProperty("--marquee-distance","".concat(e,"px")),A.style.setProperty("--marquee-duration","".concat(e/80,"s")))},R=_toConsumableArray(A.querySelectorAll("img"));Promise.all(R.map((function(e){return e.complete?Promise.resolve():new Promise((function(t){e.addEventListener("load",t,{once:!0}),e.addEventListener("error",t,{once:!0})}))}))).then(M);var I=new ResizeObserver((function(){clearTimeout(M._t),M._t=setTimeout(M,120)}));I.observe(H),I.observe(k),window.addEventListener("resize",(function(){clearTimeout(M._t),M._t=setTimeout(M,150)})),document.querySelectorAll(".tabs").forEach((function(e){var t=e.closest(".how-it-works"),n=_toConsumableArray(e.querySelectorAll("[data-tab]")),i=_toConsumableArray(e.querySelectorAll("[data-tab-target]"));if(n.length&&i.length){var r=parseInt(e.dataset.interval,10)||4e3,o=n.map((function(e){return e.dataset.tab})),a=Math.max(0,n.findIndex((function(e){return e.classList.contains("is-active")})));-1===a&&(a=0);var s=null,l=function(e){n.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tab===e)})),i.forEach((function(t){return t.classList.toggle("is-active",t.dataset.tabTarget===e)})),function(e){t&&(t.className=t.className.split(" ").filter((function(e){return!e.startsWith("how-it-works--")})).join(" "),t.classList.add("how-it-works--".concat(e)))}(e),a=o.indexOf(e)},c=function(){var e=(a+1)%o.length;l(o[e])},u=function(){d(),s=setInterval(c,r)},d=function(){s&&(clearInterval(s),s=null)};n.forEach((function(e){e.addEventListener("click",(function(){l(e.dataset.tab),u()}))})),l(o[a]),u(),document.addEventListener("visibilitychange",(function(){document.hidden?d():u()}))}}));var B=document.querySelector(".cta");if(B){var N=B.querySelector(".cta__bg");if(N){var z=120,F=!1,O=function(){z=window.innerWidth>=1024?280:150};O();var P=function(){var e=B.getBoundingClientRect(),t=window.innerHeight;if(e.bottom>0&&e.top<t){var n=(t-e.top)/(t+e.height),i=(Math.min(Math.max(n,0),1)-.5)*z*2;N.style.transform="translate3d(0, ".concat(i,"px, 0)"),F=!1}else F=!1},W=function(){F||(F=!0,requestAnimationFrame(P))};window.addEventListener("scroll",W,{passive:!0}),window.addEventListener("resize",(function(){O(),W()})),W();var D=document.querySelector(".accordion");D.addEventListener("click",(function(e){var t=e.target.closest(".acc-trigger");if(t){var n=t.parentElement,i=t.nextElementSibling,r=n.classList.contains("is-open");D.querySelectorAll(".acc-item.is-open").forEach((function(e){var t=e.querySelector(".acc-panel");e!==n&&be(t,e)})),r?be(i,n):function(e,t){t.classList.add("is-open"),e.style.height=e.getBoundingClientRect().height+"px",requestAnimationFrame((function(){e.style.height=e.scrollHeight+"px"}));var n=function(t){"height"===t.propertyName&&(e.removeEventListener("transitionend",n),e.style.height="auto")};e.addEventListener("transitionend",n)}(i,n)}})),document.querySelectorAll(".acc-item.is-open .acc-panel").forEach((function(e){return e.style.height="auto"})),document.querySelectorAll(".reviews__list-text[data-words]").forEach((function(e){var t=parseInt(e.dataset.words,10);if(t){var n=e.querySelector("p");if(n){var i=(n.textContent||"").trim(),r=i.split(/\s+/);if(!(r.length<=t)){var o=r.slice(0,t).join(" ")+"…",a=document.createElement("div");a.className="reviews__list-text-inner",e.insertBefore(a,n),a.appendChild(n);var s=document.createElement("button");s.type="button",s.className="reviews__read-more",e.appendChild(s);var l=!1,c=function(){return s.textContent=l?"Read less":"Read more"},u=function(){n.textContent=i,a.style.maxHeight="0px",a.getBoundingClientRect(),a.style.maxHeight=a.scrollHeight+"px"},d=function(){a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect(),n.textContent=o,a.style.maxHeight=a.scrollHeight+"px"};a.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&l&&(a.style.maxHeight="none")})),s.addEventListener("click",(function(){l=!l,c(),l?u():("none"===a.style.maxHeight&&(a.style.maxHeight=a.scrollHeight+"px",a.getBoundingClientRect()),d())})),n.textContent=o,c(),a.style.maxHeight=a.scrollHeight+"px",new ResizeObserver((function(){l||(a.style.maxHeight=a.scrollHeight+"px")})).observe(e)}}}}));var j=document.querySelector(".reviews__annotation[data-words]");if(j){var Y=parseInt(j.dataset.words,10);if(Y){var X=j.innerHTML,U=j.textContent.trim().replace(/\s+/g," ").split(" ");if(!(U.length<=Y)){var $=U.slice(0,Y).join(" ")+"…",G=document.createElement("div");G.className="reviews__annotation-inner",G.innerHTML="<p>".concat($,"</p>");var J=document.createElement("button");J.type="button",J.className="reviews__annotation-toggle";var K=!1,Q=function(){J.textContent=K?"Show less":"Learn more"},V=function(){G.style.maxHeight=G.scrollHeight+"px"};G.addEventListener("transitionend",(function(e){"max-height"===e.propertyName&&K&&(G.style.maxHeight="none")})),J.addEventListener("click",(function(){K=!K,Q(),K?(G.innerHTML=X,G.style.maxHeight="0px",G.getBoundingClientRect(),V()):("none"===G.style.maxHeight&&(G.style.maxHeight=G.scrollHeight+"px",G.getBoundingClientRect()),G.innerHTML="<p>".concat($,"</p>"),V())})),j.innerHTML="",j.appendChild(G),j.appendChild(J),Q(),V(),new ResizeObserver((function(){K||V()})).observe(j);var Z=document.querySelector(".health-optimization__list");if(Z){var ee=Z.querySelector(".health-optimization__track");if(ee){var te=0,ne=1,ie=null,re=null,oe=0,ae=null,se=function(){var e=Z.clientWidth,t=ee.scrollWidth;return Math.max(0,t-e)},le=function(e,t,n){return Math.max(t,Math.min(e,n))},ce=function(e){te=e,ee.style.transform="translate3d(".concat(-te,"px, 0, 0)")},ue=function(){ie&&cancelAnimationFrame(ie),ie=null},de=null,me=null;window.addEventListener("mousemove",(function(e){de=e.clientX,me=e.clientY}),{passive:!0});var fe=function(e){if("desktop"===re&&function(){if(null===de||null===me)return!1;var e=document.elementFromPoint(de,me);return!!e&&Z.contains(e)}()){var t=se();if(!(t<=0)){var n=e.deltaY;oe<=0&&n<0||oe>=t&&n>0||(e.preventDefault(),oe=le(oe+=.9*n,0,t),function(){if(!ae){var e=function(){var t=se(),n=(oe=le(oe,0,t))-te;if(Math.abs(n)<.25)return ce(oe),void(ae=null);ce(te+.12*n),ae=requestAnimationFrame(e)};ae=requestAnimationFrame(e)}}())}}},ve=function(){var e=window.innerWidth<=1023?"mobile":"desktop";if(e!==re){re=e,ue(),ae&&cancelAnimationFrame(ae),ae=null;var t=se();te=0,oe=0,ne=1,ce(0),"mobile"===re?(window.removeEventListener("wheel",fe),function(){ue();var e=function(){var t=se();t<=0||((te+=.35*ne)>=t?(te=t,ne=-1):te<=0&&(te=0,ne=1),ce(te)),ie=requestAnimationFrame(e)};ie=requestAnimationFrame(e)}()):(window.addEventListener("wheel",fe,{passive:!1}),ce(le(te,0,t)))}};ve(),window.addEventListener("resize",(function(){ve();var e=se();te=le(te,0,e),oe=le(oe,0,e),ce(te)}))}}}}}}}}}}}}function pe(e){e.classList.add("is-collapsed"),e.style.maxHeight="0px"}function he(e){e.classList.remove("is-collapsed"),e.style.maxHeight=e.scrollHeight+"px"}function ye(){x.classList.remove("is-expanded"),w().forEach((function(e){return e.classList.remove("is-active","is-left","is-right")}))}function ge(e,t){var n=w(),i=S.get(e);if(i&&(i.classList.remove("is-left"),S.delete(e)),t){var r=n.indexOf(e);if(!(r<0))if((r+1)%2==0){var o=n[r-1];o&&(o.classList.add("is-left"),S.set(e,o))}}}function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:520,i=Array.from(e.children),r=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));t(),e.getBoundingClientRect();var o=new Map(i.map((function(e){return[e,e.getBoundingClientRect()]})));return i.forEach((function(e){var t=r.get(e),n=o.get(e);if(t&&n){var i=t.left-n.left,a=t.top-n.top;(i||a)&&(e.style.transform="translate(".concat(i,"px, ").concat(a,"px)"),e.style.transition="transform 0s")}})),requestAnimationFrame((function(){i.forEach((function(e){e.style.transform&&(e.style.transition="transform ".concat(n,"ms ease"),e.style.transform="")}))})),setTimeout((function(){i.forEach((function(e){e.style.transition="",e.style.transform=""}))}),n+60),n}function _e(){var t=e()?"mobile":"desktop";"mobile"===t?(x.classList.remove("is-expanded"),w().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");if(t&&n){n.style.display="inline-block";var i=e.classList.contains("is-active");i?he(t):pe(t),n.textContent=i?"Read less":"Read more",i&&ge(e,!0)}}))):(w().forEach((function(e){return e.classList.remove("is-left")})),w().forEach((function(e){var t=e.querySelector(".about__list-item--description"),n=e.querySelector(".about__list-item--btn");t&&function(e){e.classList.remove("is-collapsed"),e.style.removeProperty("max-height")}(t),n&&(n.style.display="none",n.classList.remove("is-open"),n.textContent="")})),ye(),E.forEach((function(e){return x.appendChild(e)}))),q=t}function be(e,t){t.classList.remove("is-open"),e.style.height=e.scrollHeight+"px",requestAnimationFrame((function(){e.style.height="0px"}))}})),document.querySelectorAll(".reviews__annotation[data-words]").length;//# sourceMappingURL=main.js.map
